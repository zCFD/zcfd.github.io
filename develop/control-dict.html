
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Control Dictionary &#8212; zCFD User Guide v2019.07.1655-develop documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/fav.png"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh Conversion" href="meshutil.html" />
    <link rel="prev" title="MyCluster" href="mycluster.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="control-dictionary">
<h1>Control Dictionary<a class="headerlink" href="#control-dictionary" title="Permalink to this headline">¶</a></h1>
<p>The zCFD control file is a python file that is executed at runtime. This provides a flexible way of specifying key parameters, enabling user defined functions and leveraging the rich array of python libraries available.</p>
<p>A python dictionary called ‘parameters’ provides the main interface to controlling zCFD</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="o">....</span><span class="p">}</span>
</pre></div>
</div>
<p>zCFD will validate the parameters dictionary specified at run time against a set of expected values for each key. In general, values that should be integers and floats will be coerced to the correct type. Values which should be strings, booleans, lists or dictionaries will cause an error if they are the incorrect type. The time marching scheme and solver/equation set chosen defines which dictionary keys are valid. A simple script is provided to allow the user to check the validity of their input parameters before submitting their job. See <a class="reference internal" href="execution.html#input-validation"><span class="std std-ref">Input Validation</span></a>.</p>
<div class="section" id="reference-settings">
<h2>Reference Settings<a class="headerlink" href="#reference-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="define-units">
<h3>Define units<a class="headerlink" href="#define-units" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default &#39;SI&#39;):</span>
<span class="c1"># units for dimensional quantities</span>
<span class="s1">&#39;units&#39;</span> <span class="p">:</span> <span class="s1">&#39;SI&#39;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="scale-mesh">
<h3>Scale mesh<a class="headerlink" href="#scale-mesh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default [1.0,1.0,1.0]):</span>
<span class="c1"># Scale vector</span>
<span class="s1">&#39;scale&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional</span>
<span class="c1"># Scale function</span>
<span class="s1">&#39;scale&#39;</span> <span class="p">:</span> <span class="n">scale_func</span><span class="p">,</span>
</pre></div>
</div>
<p>Example scale function</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Scale function</span>
<span class="k">def</span> <span class="nf">scale_func</span><span class="p">(</span><span class="n">point</span><span class="p">):</span>
    <span class="c1"># Scale y coordinate by 100</span>
    <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mf">100.0</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;coord&#39;</span> <span class="p">:</span> <span class="n">point</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="reference-state">
<h3>Reference state<a class="headerlink" href="#reference-state" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># reference state</span>
<span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#initial-conditions">Initial Conditions</a></p>
</div>
<div class="section" id="partitioner">
<h3>Partitioner<a class="headerlink" href="#partitioner" title="Permalink to this headline">¶</a></h3>
<p>The ‘metis’ partitioner is used to split the computational mesh up so that the job can be run in parallel.  Other partitioners will be added in future code releases</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default &#39;metis&#39;):</span>
<span class="c1"># partitioner type</span>
<span class="s1">&#39;partitioner&#39;</span> <span class="p">:</span> <span class="s1">&#39;metis&#39;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="safe-mode">
<h3>Safe Mode<a class="headerlink" href="#safe-mode" title="Permalink to this headline">¶</a></h3>
<p>Safe mode turns on extra checks and provides diagnosis in the case of solver stability issues</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default False):</span>
<span class="c1"># Safe mode</span>
<span class="s1">&#39;safe&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="initialisation">
<h2>Initialisation<a class="headerlink" href="#initialisation" title="Permalink to this headline">¶</a></h2>
<p>Initial conditions are used to set the flow variable values in all cells at the start of a simulation.  The initial conditions default to the reference state (above) if not specified</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initial conditions</span>
<span class="s1">&#39;initial&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#initial-conditions">Initial Conditions</a>. A function which defines the initial fields may be supplied</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initial conditions</span>
<span class="s1">&#39;initial&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Name of initial condition</span>
              <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
              <span class="c1"># Optional: User defined function</span>
              <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">my_initialisation</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-user-defined-initialisation-function">
<h3>Example User Defined Initialisation Function<a class="headerlink" href="#example-user-defined-initialisation-function" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_initialisation</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="c1"># Dimensional primitive variables</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span>
    <span class="n">temperature</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
    <span class="n">velocity</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;velocity&#39;</span><span class="p">]</span>
    <span class="n">wall_distance</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;wall_distance&#39;</span><span class="p">]</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">location</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="p">:</span>
      <span class="n">velocity</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">2.0</span>

    <span class="c1"># Return a dictionary with user defined quantity.</span>
    <span class="c1"># Same schema as above</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s1">&#39;velocity&#39;</span> <span class="p">:</span> <span class="n">velocity</span> <span class="p">}</span>
</pre></div>
</div>
<p>To restart from a previous solution</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Restart from previous solution</span>
<span class="s1">&#39;restart&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<span class="c1"># Optional: Restart from and different case</span>
<span class="s1">&#39;restart casename&#39;</span> <span class="p">:</span> <span class="s1">&#39;my_case&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>It is possible to restart the SA-neg solver from results generated using the Menter SST solver and vice versa, however by default the turbulence field(s) are reset to zero. An approximate initial solution for the SA-neg model can be generated from Menter-SST results by adding the key</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate approximate initial field for SA-neg</span>
<span class="s1">&#39;approximate sa from sst results&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="low-mach-number-preconditioner-settings-optional">
<h2>Low Mach number preconditioner settings (Optional)<a class="headerlink" href="#low-mach-number-preconditioner-settings-optional" title="Permalink to this headline">¶</a></h2>
<p>The preconditioner is a mathematical technique for improving the speed of the solver when the fluid flow is slow compared to the speed of sound.  Use of the preconditioner does not alter the final converged solution produced by the solver.  The preconditioner factor is used to improve the robustness of the solver in regions of very low speed. The preconditioner is controlled in the <code class="code docutils literal notranslate"><span class="pre">'equations'</span></code> dictionary (see <a class="reference internal" href="#equations">Equations</a>) by setting the <code class="code docutils literal notranslate"><span class="pre">'precondition'</span></code> key, for example when using the euler solver</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;euler&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="c1"># Optional (default False):</span>
          <span class="c1"># Use low speed mach preconditioner</span>
          <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="p">},</span>

<span class="c1"># Optional, Advanced: Preconditoner factor</span>
<span class="s1">&#39;preconditioner&#39;</span> <span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;minimum mach number&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                   <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="time-marcher">
<h2>Time Marcher<a class="headerlink" href="#time-marcher" title="Permalink to this headline">¶</a></h2>
<p>zCFD is capable of performing both steady-state and time accurate simulations. In the first case the solution is marched in pseudo time using the dual time-stepping algorithm towards the steady-state solution. For time accurate simulations the solution can be either globally time-stepped or use dual time-stepping. The <code class="code docutils literal notranslate"><span class="pre">'time</span> <span class="pre">marching'</span></code> dictionary controls the selection of these schemes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>Time accurate (unsteady) simulation control</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="s1">&#39;unsteady&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                 <span class="c1"># Total time in seconds</span>
                                 <span class="s1">&#39;total time&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                 <span class="c1"># Time step in seconds</span>
                                 <span class="s1">&#39;time step&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                 <span class="c1"># Required only when dual time-stepping:</span>
                                 <span class="c1"># Dual time step time accuracy (options: &#39;first&#39; or &#39;second&#39; order)</span>
                                 <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
                                 <span class="c1"># Required only when dual time-stepping:</span>
                                 <span class="c1"># Number of pseudo time (steady) cycles to run before starting dual timestep time accurate simulation</span>
                                 <span class="s1">&#39;start&#39;</span> <span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
                                 <span class="p">},</span>
                   <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="solver-scheme">
<h3>Solver scheme<a class="headerlink" href="#solver-scheme" title="Permalink to this headline">¶</a></h3>
<p>There are three different time marching schemes available in zCFD: Euler, various orders of Runge Kutta (like Euler…) and the implicit LU-SGS scheme. These can be run with dual time-stepping for both steady and unsteady simulations or with global time-stepping for unsteady simulations. The choice of scheme and time stepping algorithm affects with dictionary keys are valid.</p>
<div class="section" id="runge-kutta">
<h4>Runge Kutta<a class="headerlink" href="#runge-kutta" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="s1">&#39;scheme&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># Either &#39;euler&#39; or &#39;runge kutta&#39; or &#39;lu-sgs&#39;</span>
                              <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;runge kutta&#39;</span><span class="p">,</span>
                              <span class="c1"># Number of RK stages &#39;euler&#39; or 1, 4, 5, &#39;rk third order tvd&#39;</span>
                              <span class="s1">&#39;stage&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                              <span class="c1"># Time-stepping scheme: &#39;local timestepping&#39; for steady state or dual time step time accurate</span>
                              <span class="c1"># &#39;global timestepping&#39; for time accurate</span>
                              <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;local timestepping&#39;</span>
                              <span class="p">},</span>
                   <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="lu-sgs">
<h4>LU-SGS<a class="headerlink" href="#lu-sgs" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="s1">&#39;scheme&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;lu-sgs&#39;</span><span class="p">,</span>
                              <span class="p">},</span>
                   <span class="s1">&#39;lu-sgs&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># Optional (default 8)</span>
                              <span class="s1">&#39;Number Of SGS Cycles&#39;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                              <span class="c1"># Optional (default 1)</span>
                              <span class="s1">&#39;Jacobian Update Frequency&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                              <span class="c1"># Optional (default True)</span>
                              <span class="s1">&#39;Include Backward Sweep&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                              <span class="c1"># Optional (default True)</span>
                              <span class="s1">&#39;Include Relaxation&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                              <span class="c1"># Optional (default 1.0e-8)</span>
                              <span class="s1">&#39;Jacobian Epsilon&#39;</span> <span class="p">:</span> <span class="mf">1.0e-08</span><span class="p">,</span>
                              <span class="c1"># Optional (default True)</span>
                              <span class="s1">&#39;Use Rusanov Flux For Jacobian&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                              <span class="c1"># Optional (default False)</span>
                              <span class="s1">&#39;Finite Difference Jacobian&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                  <span class="p">},</span>
</pre></div>
</div>
<p>When global time-stepping is specified the keys <code class="code docutils literal notranslate"><span class="pre">['unsteady']['order']</span></code> and <code class="code docutils literal notranslate"><span class="pre">['unsteady']['start']</span></code> are not valid. The CFL keys in in the <a class="reference internal" href="#cfl">CFL</a> section below are also not valid as the time step is explicitly specified.
When the <code class="code docutils literal notranslate"><span class="pre">['unsteady']['total</span> <span class="pre">time']</span></code> and <code class="code docutils literal notranslate"><span class="pre">['unsteady']['time</span> <span class="pre">step']</span></code> keys are set to be equal values and <code class="code docutils literal notranslate"><span class="pre">['time</span> <span class="pre">marching']['scheme']['kind']</span></code> is set to <code class="code docutils literal notranslate"><span class="pre">'local</span> <span class="pre">timestepping'</span></code> the solver marches in pseudo time towards a steady state solution. If LU-SGS is selected then the <code class="code docutils literal notranslate"><span class="pre">'lu-sgs'</span></code> sub-dictionary must be provided.</p>
</div>
</div>
<div class="section" id="cfl">
<h3>CFL<a class="headerlink" href="#cfl" title="Permalink to this headline">¶</a></h3>
<p>The Courant-Friedrichs-Lewy (CFL) number controls the local pseudo time-step that the solver uses to reach a converged solution. The larger the CFL number, the faster the solver will run but the less stable it will be.  The default values should be appropriate for most cases, but for lower-quality meshes or very complex geometries it may be necessary to use lower values (e.g. CFL of 1.0).  In such cases it may also be helpful to turn off Multigrid (above) by setting the maximum number of meshes to 0. The CFL dictionary keys are only valid when using dual time-stepping.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Default max CFL number for all equations</span>
                  <span class="s1">&#39;cfl&#39;</span><span class="p">:</span> <span class="mf">2.5</span>
                  <span class="c1"># Optional (default &#39;cfl&#39; value):</span>
                  <span class="c1"># Override max CFL number for transported quantities</span>
                  <span class="s1">&#39;cfl transport&#39;</span> <span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                  <span class="c1"># Optional (default &#39;cfl&#39; value):</span>
                  <span class="c1"># Override max CFL number for coarse meshes</span>
                  <span class="s1">&#39;cfl coarse&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                  <span class="c1"># Control of CFL for polynomial multigrid (from highest to lowest order)</span>
                  <span class="s1">&#39;multipolycfl&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">],</span>
                  <span class="c1"># Optional: Ramp cfl</span>
                  <span class="s1">&#39;cfl ramp factor&#39;</span><span class="p">:</span> <span class="p">{</span>
                                     <span class="c1"># cfl = cfl_ini * growth ^ cycle</span>
                                     <span class="s1">&#39;growth&#39;</span><span class="p">:</span> <span class="mf">1.05</span><span class="p">,</span>
                                     <span class="c1"># min cfl</span>
                                     <span class="s1">&#39;initial&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
                                     <span class="p">},</span>
                  <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="cycles">
<h3>Cycles<a class="headerlink" href="#cycles" title="Permalink to this headline">¶</a></h3>
<p>For steady-state simulations, the number of pseudo time cycles is the same as the number of steps that the solver should use to reach a converged solution.  Note that the solver uses local pseudo time-stepping (the time-step varies according to local conditions) so any intermediate solution is not necessarily time-accurate.</p>
<p>For unsteady (time-accurate) simulations using ‘dual time-stepping’ to advance the solution in time the number of pseudo time cycles determines the number of inner iterations that the solver uses to converge each real time step. When global time-stepping is specified the cycles key is not valid.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Required only for daul time-stepping:</span>
                  <span class="c1"># Number of pseudo time cyles</span>
                  <span class="s1">&#39;cycles&#39;</span> <span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="multigrid">
<h3>Multigrid<a class="headerlink" href="#multigrid" title="Permalink to this headline">¶</a></h3>
<p>The mesh is automatically coarsened by merging cells on successive layers in order to accelerate solver convergence.  This does not alter the accuracy of the solution on the finest (original) mesh.  Advanced users can control the number of geometric multigrid levels and the ‘prolongation’ of quantities from coarse to fine meshes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="c1"># Maximum number of meshes (including fine mesh)</span>
                <span class="s1">&#39;multigrid&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="c1"># Optional:</span>
                <span class="c1"># Number of multigrid cycles before solving on fine mesh only</span>
                <span class="s1">&#39;multigrid cycles&#39;</span> <span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
                <span class="c1"># Optional (default 0.75), Advanced:</span>
                <span class="c1"># Prologation factor</span>
                <span class="s1">&#39;prolong factor&#39;</span> <span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
                <span class="c1"># Optional (default 0.3), Advanced:</span>
                <span class="c1"># Prolongation factor for transported quantities</span>
                <span class="s1">&#39;prolong transport factor&#39;</span> <span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="polynomial-multigrid">
<h3>Polynomial Multigrid<a class="headerlink" href="#polynomial-multigrid" title="Permalink to this headline">¶</a></h3>
<p>The polynomial basis on which the solution is computed can be successively coarsened, thus allowing the solution to be evolved quicker due to weakened stability restrictions at lower polynomial orders. This does not alter the accuracy of the solution on the highest polynomial order.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="c1"># Optional (default False):</span>
                   <span class="c1"># Switch on polynomial multigrid</span>
                   <span class="s1">&#39;multipoly&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                   <span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="equations">
<h2>Equations<a class="headerlink" href="#equations" title="Permalink to this headline">¶</a></h2>
<p>The equations key selects the equation set to be solved as well as the finite volume solver or the high order strong form Discontinuous Galerkin/Flux Reconstruction solver. For each equation type the valid keys are listed below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Governing equations to be used</span>
<span class="c1"># one of: RANS, euler, viscous, LES, DGRANS, DGeuler, DGviscous, DGLES</span>
<span class="s1">&#39;equations&#39;</span> <span class="p">:</span> <span class="s1">&#39;RANS&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Compressible Euler flow is inviscid (no viscosity and hence no turbulence).  The compressible Euler equations are appropriate when modelling flows where momentum significantly dominates viscosity - for example at very high speed. The computational mesh used for Euler flow does not need to resolve the flow detail in the boundary layer and hence will generally have far fewer cells than the corresponding viscous mesh would have.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;euler&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Spatial accuracy (options: first, second)</span>
            <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
            <span class="c1"># MUSCL limiter (options: vanalbada)</span>
            <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use low speed mach preconditioner</span>
            <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use linear gradients</span>
            <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
            <span class="c1"># Scheme for inviscid flux: HLLC or Rusanov</span>
            <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
          <span class="p">},</span>
</pre></div>
</div>
<p>The viscous (laminar) equations model flow that is viscous but not turbulent.  The <a class="reference external" href="http://en.wikipedia.org/wiki/Reynolds_number">Reynolds number</a> of a flow regime determines whether or not the flow will be turbulent. The computational mesh for a viscous flow does have to resolve the boundary layer, but the solver will run faster as fewer equations are being included.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;viscous&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Spatial accuracy (options: first, second)</span>
              <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
              <span class="c1"># MUSCL limiter (options: vanalbada)</span>
              <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use low speed mach preconditioner</span>
              <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use linear gradients</span>
              <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
              <span class="c1"># Scheme for inviscid flux: HLLC or Rusanov</span>
              <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<p>The fully turbulent (Reynolds Averaged Navier-Stokes Equations)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;RANS&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Spatial accuracy (options: first, second)</span>
            <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
            <span class="c1"># MUSCL limiter (options: vanalbada)</span>
            <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use low speed mach preconditioner</span>
            <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use linear gradients</span>
            <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
            <span class="c1"># Scheme for inviscid flux: HLLC or Rusanov</span>
            <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
            <span class="c1"># Turbulence</span>
            <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># turbulence model (options: &#39;sst&#39;, &#39;sa-neg&#39;)</span>
                              <span class="s1">&#39;model&#39;</span> <span class="p">:</span> <span class="s1">&#39;sst&#39;</span><span class="p">,</span>
                              <span class="c1"># Optional (default &#39;none&#39;):</span>
                              <span class="c1"># LES model (options &#39;none&#39;, &#39;DES&#39;, &#39;DDES&#39;, &#39;SAS&#39;)</span>
                              <span class="s1">&#39;les&#39;</span> <span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
                              <span class="c1"># Optional (default 0.09):</span>
                              <span class="c1"># betastar turbulence closure constant</span>
                              <span class="s1">&#39;betastar&#39;</span> <span class="p">:</span> <span class="mf">0.09</span><span class="p">,</span>
                              <span class="c1"># Optional (default True):</span>
                              <span class="c1"># turn off mu_t limiter</span>
                              <span class="s1">&#39;limit mut&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                              <span class="c1"># Optional (default CDES=0.65, CDES_kw=0.78, CDES_keps=0.61):</span>
                              <span class="c1"># DES constants</span>
                              <span class="s1">&#39;CDES&#39;</span><span class="p">:</span> <span class="mf">0.65</span>
                              <span class="s1">&#39;CDES_kw&#39;</span><span class="p">:</span> <span class="mf">0.78</span><span class="p">,</span>
                              <span class="s1">&#39;CDES_keps&#39;</span><span class="p">:</span> <span class="mf">0.61</span><span class="p">,</span>
                              <span class="c1"># Optional when using &#39;sst&#39; (default 0):</span>
                              <span class="c1"># Menter SST production term: 0=SST-V, 1=incompressible, 2=SST</span>
                              <span class="s1">&#39;production&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="c1"># Optional when using &#39;sa-neg&#39; (default False):</span>
                              <span class="c1"># Use sa-neg rotation correction</span>
                              <span class="s1">&#39;rotation correction&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                            <span class="p">},</span>
           <span class="p">},</span>
</pre></div>
</div>
<p>The filtered Large Eddy Simulation (LES) equations</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;LES&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Spatial accuracy (options: first, second)</span>
              <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
              <span class="c1"># MUSCL limiter (options: vanalbada)</span>
              <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use low speed mach preconditioner</span>
              <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use linear gradients</span>
              <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
              <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># LES model (options &#39;none&#39;, &#39;WALE&#39;)</span>
                              <span class="s1">&#39;les&#39;</span> <span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
                            <span class="p">},</span>

            <span class="p">},</span>
</pre></div>
</div>
<p>When using the high order strong form Discontinuous Galerkin/Flux Reconstruction solver the keys in the equations dictionary are the same for each equation set except that the <code class="code docutils literal notranslate"><span class="pre">'linear</span> <span class="pre">gradients'</span></code> and <code class="code docutils literal notranslate"><span class="pre">'limiter'</span></code> keys are not valid and additional keys are available in the equations dictionary. These additional keys are given below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;DG...&#39;</span> <span class="p">:</span> <span class="p">{</span>
               <span class="c1"># Spatial polynomial order 0,1,2,3</span>
               <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Approximate curved boundaries&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0)</span>
               <span class="s1">&#39;c11 stability parameter&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0)</span>
               <span class="c1"># c11 stability parameter for transported variables</span>
               <span class="s1">&#39;c11 stability parameter transport&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.5)</span>
               <span class="s1">&#39;LDG upwind parameter&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="s1">&#39;LDG upwind parameter aux&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="c1"># Optional (default False):</span>
               <span class="c1"># Use MUSCL reconstruction at P=0</span>
               <span class="s1">&#39;Use MUSCL Reconstruction&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;BR2 Diffusive Flux Scheme&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Use Rusanov for turbulence equations&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Shock Sensing&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing k&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing Viscosity Scale&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="c1"># Variable used for shock sensing, one of: &#39;density&#39;, &#39;temperature&#39;, &#39;mach&#39;, &#39;turbulence&#39;</span>
               <span class="s1">&#39;Shock Sensing Variable&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<p>Hence all the available keys for <code class="code docutils literal notranslate"><span class="pre">'DGeuler'</span></code> are a combination of the <code class="code docutils literal notranslate"><span class="pre">'euler'</span></code> keys and the <code class="code docutils literal notranslate"><span class="pre">'DG...'</span></code> keys. The same logic applies to the <code class="code docutils literal notranslate"><span class="pre">'DGRANS'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'DGviscous'</span></code> and <code class="code docutils literal notranslate"><span class="pre">'DGLES'</span></code> equation sets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;DGeuler&#39;</span> <span class="p">:</span> <span class="p">{</span>
               <span class="c1"># Spatial polynomial order 0,1,2,3</span>
               <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="c1"># Use low speed mach preconditioner</span>
               <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
               <span class="c1"># Optional (default &#39;HLLC&#39;)</span>
               <span class="c1"># scheme for inviscid flux: HLLC or Rusanov</span>
               <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Approximate curved boundaries&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0)</span>
               <span class="s1">&#39;c11 stability parameter&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0):</span>
               <span class="c1"># c11 stability parameter for transported variables - default 0.0</span>
               <span class="s1">&#39;c11 stability parameter transport&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.5)</span>
               <span class="s1">&#39;LDG upwind parameter&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="s1">&#39;LDG upwind parameter aux&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="c1"># Optional (default False):</span>
               <span class="c1"># Use MUSCL reconstruction at P=0</span>
               <span class="s1">&#39;Use MUSCL Reconstruction&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;BR2 Diffusive Flux Scheme&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Use Rusanov for turbulence equations&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Shock Sensing&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing k&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing Viscosity Scale&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="c1"># Variable used for shock sensing, one of: &#39;density&#39;, &#39;temperature&#39;, &#39;mach&#39;, &#39;turbulence&#39;</span>
               <span class="s1">&#39;Shock Sensing Variable&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="dg-order-specification">
<h2>DG Order Specification<a class="headerlink" href="#dg-order-specification" title="Permalink to this headline">¶</a></h2>
<p>Regions of the mesh may be specified be be a certain order in the DG solver. This can be done by supplying a list of dictionaries containing any number of entries of the following types</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;cell order&#39;</span> <span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;wall distance&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="s1">&#39;distance&#39;</span> <span class="p">:</span> <span class="mf">1000.0</span><span class="p">},</span>
               <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;wall distance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s1">&#39;distance&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;sphere&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="s1">&#39;radius&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                 <span class="s1">&#39;centre&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;cartesian&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="c1"># xmin, xmax, ymin, ymax, zmin, zmax</span>
                 <span class="s1">&#39;box&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]}</span>
                <span class="p">],</span>
</pre></div>
</div>
</div>
<div class="section" id="dg-nodal-locations">
<h2>DG Nodal locations<a class="headerlink" href="#dg-nodal-locations" title="Permalink to this headline">¶</a></h2>
<p>The location of the DG solution points must be specified in the parameters dictionary. The definitions first need to be imported by including this import statement at the start of the control dictionary</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zcfd.solvers.utils.DGNodalLocations</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>To use the default values</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nodal Locations&#39;</span> <span class="p">:</span> <span class="n">nodal_locations_default</span><span class="p">[</span><span class="s1">&#39;Nodal Locations&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or select from the available types</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nodal Locations&#39;</span> <span class="p">:</span> <span class="p">{</span>
                      <span class="c1"># Options line_evenly_spaced, line_gauss_lobatto or line_gauss_legendre_lobatto</span>
                      <span class="s1">&#39;Line&#39;</span><span class="p">:</span>  <span class="n">line_gauss_legendre_lobatto</span><span class="p">,</span>
                      <span class="c1"># Options tet_evenly_spaced, tet_shunn_ham</span>
                      <span class="s1">&#39;Tetrahedron&#39;</span><span class="p">:</span> <span class="n">tet_evenly_spaced</span><span class="p">,</span>
                      <span class="c1"># Options tri_evenly_spaced, tri_shunn_ham</span>
                      <span class="s1">&#39;Tri&#39;</span> <span class="p">:</span> <span class="n">tri_evenly_spaced</span><span class="p">,</span>
                    <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="material-specification">
<h2>Material Specification<a class="headerlink" href="#material-specification" title="Permalink to this headline">¶</a></h2>
<p>The user can specify any fluid material properties by following the (default) scheme for ‘air’:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;material&#39;</span> <span class="p">:</span> <span class="s1">&#39;air&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Options</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;air&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="s1">&#39;gamma&#39;</span> <span class="p">:</span> <span class="mf">1.4</span><span class="p">,</span>
          <span class="s1">&#39;gas constant&#39;</span> <span class="p">:</span> <span class="mf">287.0</span><span class="p">,</span>
          <span class="s1">&#39;Sutherlands const&#39;</span><span class="p">:</span> <span class="mf">110.4</span><span class="p">,</span>
          <span class="s1">&#39;Prandtl No&#39;</span> <span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span>
          <span class="s1">&#39;Turbulent Prandtl No&#39;</span> <span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="initial-conditions">
<h2>Initial Conditions<a class="headerlink" href="#initial-conditions" title="Permalink to this headline">¶</a></h2>
<p>The intial condition properties are defined using consecutively numbered blocks</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;IC_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;IC_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;IC_3&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>Each block can contain the following options</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Required: Static temperature in Kelvin</span>
<span class="s1">&#39;temperature&#39;</span><span class="p">:</span> <span class="mf">293.0</span><span class="p">,</span>
<span class="c1"># Required: Static pressure in Pascals</span>
<span class="s1">&#39;pressure&#39;</span><span class="p">:</span><span class="mf">101325.0</span><span class="p">,</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fluid velocity</span>
<span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Velocity vector</span>
        <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
        <span class="c1"># Optional: specifies velocity magnitude</span>
        <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
      <span class="p">},</span>
</pre></div>
</div>
<p>Dynamic (shear, absolute or molecular) viscosity should be defined at the static temperature previously specified.  This can be specified either as a dimensional quantity or by a Reynolds number and reference length</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dynamic viscosity in dimensional units</span>
<span class="s1">&#39;viscosity&#39;</span> <span class="p">:</span> <span class="mf">1.83e-5</span><span class="p">,</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reynolds number</span>
<span class="s1">&#39;Reynolds No&#39;</span> <span class="p">:</span> <span class="mf">5.0e6</span><span class="p">,</span>
<span class="c1"># Reference length</span>
<span class="s1">&#39;Reference Length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
</pre></div>
</div>
<p>Turbulence intensity is defined as the ratio of velocity fluctuations <span class="math notranslate nohighlight">\(u^{'}\)</span> to the mean flow velocity. A turbulence intensity of 1% is considered low and greater than 10% is considered high.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Turbulence intensity %</span>
<span class="s1">&#39;turbulence intensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
<span class="c1"># Turbulence intensity for sustainment %</span>
<span class="s1">&#39;ambient turbulence intensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
</pre></div>
</div>
<p>The eddy viscosity ratio <span class="math notranslate nohighlight">\((\mu_t/\mu)\)</span> varies depending type of flow.
For external flows this ratio varies from  0.1 to 1 (wind tunnel 1 to 10)</p>
<p>For internal flows there is greater dependence on Reynolds number as the largest eddies in the flow are limited
by the characteristic lengths of the geometry (e.g. The height of the channel or diameter of the pipe). Typical values are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="11%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Re</td>
<td>3000</td>
<td>5000</td>
<td>10,000</td>
<td>15,000</td>
<td>20,000</td>
<td>&gt; 100,000</td>
</tr>
<tr class="row-even"><td>eddy</td>
<td>11.6</td>
<td>16.5</td>
<td>26.7</td>
<td>34.0</td>
<td>50.1</td>
<td>100</td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eddy viscosity ratio</span>
<span class="s1">&#39;eddy viscosity ratio&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="c1"># Eddy viscosity ratio for sustainment</span>
<span class="s1">&#39;ambient eddy viscosity ratio&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
</pre></div>
</div>
<p>The user can also provide functions to specify a ‘wall-function’ - or the turbulence viscosity profile near a boundary.  For example an atmospheric boundary layer (ABL) could be specified like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="s1">&#39;ABL&#39;</span> <span class="p">:</span> <span class="p">{</span>
                       <span class="s1">&#39;roughness length&#39;</span> <span class="p">:</span> <span class="mf">0.0003</span><span class="p">,</span>
                       <span class="s1">&#39;friction velocity&#39;</span> <span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                       <span class="s1">&#39;surface layer height&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
                       <span class="s1">&#39;Monin-Obukhov length&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
                       <span class="c1"># Non dimensional TKE/friction velocity**2</span>
                       <span class="s1">&#39;TKE&#39;</span> <span class="p">:</span> <span class="mf">0.928</span><span class="p">,</span>
                       <span class="c1"># ground level (optional if not set wall distance is used)</span>
                       <span class="s1">&#39;z0&#39;</span>  <span class="p">:</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">,</span>
                      <span class="p">},</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow_field.vtp&#39;</span><span class="p">,</span>
             <span class="c1"># Localise field using wall distance rather that z coordinate</span>
             <span class="s1">&#39;use wall distance&#39;</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The conditions in the VTK file are specified by node based arrays with names ‘Pressure’, ‘Temperature’, ‘Velocity’, ‘TI’ and ‘EddyViscosity’. Note the field will override the conditions specified previously therefore the user can specify only the conditions that are different from default.</p>
</div>
<p>Certain conditions are specified relative to a reference set of conditions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># total pressure/reference static pressure</span>
<span class="s1">&#39;total pressure ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="c1"># total temperature/reference static temperature</span>
<span class="s1">&#39;total temperature ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="c1"># Mach number</span>
<span class="s1">&#39;mach&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="c1"># Direction vector</span>
<span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># static pressure/reference static pressure</span>
<span class="s1">&#39;static pressure ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># Mass flow ratio</span>
<span class="s1">&#39;mass flow ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><span class="math notranslate nohighlight">\(W^* =\frac{\dot{m}}{\rho V}\)</span></p>
</div>
</div>
<div class="section" id="boundary-conditions">
<h2>Boundary Conditions<a class="headerlink" href="#boundary-conditions" title="Permalink to this headline">¶</a></h2>
<p>Boundary condition properties are defined using consecutively numbered blocks</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;BC_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>zCFD will automatically detect zone types and numbers in a number of mesh formats, and assign appropriate boundary conditions. The type tags follow the Fluent convention (wall = 3, etc), and if present no further information is required.  Alternatively, the mesh format may contain explicitly numbered zones (which can be determined by inspecting the mesh).  In this case, the user can specify the list of zone numbers for each boundary condition ‘type’ and ‘kind’ (see below).</p>
<div class="section" id="wall">
<span id="id1"></span><h3>Wall<a class="headerlink" href="#wall" title="Permalink to this headline">¶</a></h3>
<p>Wall boundaries in zCFD can be either slip walls, no-slip walls, or use automatic wall functions. No-slip walls are appropriate when the mesh is able to fully resolve the boundary layer (i.e <span class="math notranslate nohighlight">\((y^{+} \leq 1)\)</span>) otherwise automatic wall functions should be used. This behaviour is chosen by setting <code class="code docutils literal notranslate"><span class="pre">'kind'</span></code> in the wall specification below. Optionally it is possible to set wall velocity, roughness and temperature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="c1"># Zone type tag</span>
          <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="c1"># Optional: Specific zone boundary condition overide</span>
          <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
          <span class="c1"># Required: Boundary condition type</span>
          <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;wall&#39;</span><span class="p">,</span>
          <span class="c1"># Type of wall, one of &#39;slip&#39;, &#39;noslip&#39;, &#39;wallfunction&#39;</span>
          <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;slip&#39;</span><span class="p">,</span>
          <span class="c1"># Optional: Roughness specification</span>
          <span class="s1">&#39;roughness&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="c1"># Type of roughness specification (option: height or length)</span>
                        <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span>
                        <span class="c1"># Constant roughness</span>
                        <span class="s1">&#39;scalar&#39;</span> <span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
                        <span class="c1"># Roughness field specified as a VTK file</span>
                        <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;roughness.vtp&#39;</span><span class="p">,</span>
                        <span class="p">},</span>
          <span class="c1"># Optional: Wall velocity specification either &#39;linear&#39; or &#39;rotating&#39; dictionary supplied</span>
          <span class="s1">&#39;V&#39;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;linear&#39;</span> <span class="p">:</span> <span class="p">{</span>
                           <span class="c1"># Velocity vector</span>
                           <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                           <span class="c1"># Optional: specifies velocity magnitude</span>
                           <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
                           <span class="p">},</span>
                <span class="s1">&#39;rotating&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="c1"># Rotational velocity in rad/s</span>
                             <span class="s1">&#39;omega&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Rotation axis</span>
                             <span class="s1">&#39;axis&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="c1"># Rotation origin</span>
                             <span class="s1">&#39;origin&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="p">},</span>
                <span class="p">},</span>
          <span class="c1"># Optional: Wall temperature specification either a constant &#39;saclar&#39; value or a &#39;profile&#39; from file</span>
          <span class="s1">&#39;temperature&#39;</span> <span class="p">:</span> <span class="p">{</span>
                          <span class="c1"># Temperature in Kelvin</span>
                          <span class="s1">&#39;scalar&#39;</span> <span class="p">:</span> <span class="mf">280.0</span><span class="p">,</span>
                          <span class="c1"># Temperature field specified as a VTK file</span>
                          <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;temperate.vtp&#39;</span><span class="p">,</span>
                          <span class="p">},</span>
          <span class="p">},</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The roughness at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the roughness
value looked up in a node based scalar array called ‘Roughness’</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The temperature at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the temperature
value looked up in a node based scalar array called ‘Temperature’</p>
</div>
</div>
<div class="section" id="farfield">
<h3>Farfield<a class="headerlink" href="#farfield" title="Permalink to this headline">¶</a></h3>
<p>The farfield boundary condition can automatically determine whether the flow is locally an inflow or an outflow by solving a Riemann equation. The conditions on the farfield boundary are set by refering to an <code class="code docutils literal notranslate"><span class="pre">'IC_'</span></code> block. In addition to this an atmospheric boundary layer profile or a turbulence profile may be set.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_2&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition overide</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;farfield&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Kind of farfield options (riemann, pressure or supersonic)</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;riemann&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Farfield conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
         <span class="c1"># Optional: Atmospheric Boundary Layer</span>
         <span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
                     <span class="s1">&#39;ABL&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="c1"># Roughness length</span>
                             <span class="s1">&#39;roughness length&#39;</span> <span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
                             <span class="c1"># Fiction velocity</span>
                             <span class="s1">&#39;friction velocity&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Surface Layer Heigh</span>
                             <span class="s1">&#39;surface layer height&#39;</span> <span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                             <span class="s1">&#39;Monin-Obukhov length&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Turbulent kinetic energy</span>
                             <span class="s1">&#39;TKE&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                             <span class="c1"># Ground Level</span>
                             <span class="s1">&#39;z0&#39;</span> <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                              <span class="p">},</span>
                      <span class="p">},</span>
         <span class="c1"># Optional: Specify a turbulence profile</span>
         <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;length scale&#39;</span> <span class="p">:</span> <span class="s1">&#39;filename.vtp&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;reynolds tensor&#39;</span> <span class="p">:</span> <span class="s1">&#39;filename.vtp&#39;</span><span class="p">,</span>
                        <span class="p">},</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="inflow">
<h3>Inflow<a class="headerlink" href="#inflow" title="Permalink to this headline">¶</a></h3>
<p>zCFD can specify two kinds of inflow boundary condition: pressure or massflow, selected using the <code class="code docutils literal notranslate"><span class="pre">'kind'</span></code> key. When using the pressure inflow the boundary condition is specified by a total pressure ratio and a total temperature ratio that needs to be defined by the condition this refers to. When using the massflow condition a total temperature ratio and massflow ratio is required.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_3&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition overide</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Kind of inflow, either &#39;default&#39; for presure or &#39;massflow&#39;</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Reference inflow conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-pressure-inflow">
<h4>Example Pressure Inflow<a class="headerlink" href="#example-pressure-inflow" title="Permalink to this headline">¶</a></h4>
<p>An example setup for a pressure inflow is given below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;IC_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;temperature&#39;</span> <span class="p">:</span> <span class="mf">293.0</span><span class="p">,</span>
         <span class="s1">&#39;pressure&#39;</span> <span class="p">:</span> <span class="mf">101325.0</span><span class="p">,</span>
         <span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
              <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
              <span class="p">},</span>
         <span class="s1">&#39;Reynolds No&#39;</span> <span class="p">:</span> <span class="mf">1.0e6</span><span class="p">,</span>
         <span class="s1">&#39;Reference Length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;turbulence instensity&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
         <span class="s1">&#39;eddy viscosity ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="p">},</span>
<span class="s1">&#39;IC_2&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
         <span class="s1">&#39;total temperature ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;total pressure ratio; : 1.0,</span>
         <span class="p">},</span>
<span class="s1">&#39;BC_3&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow&#39;</span><span class="p">,</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="outflow">
<h3>Outflow<a class="headerlink" href="#outflow" title="Permalink to this headline">¶</a></h3>
<p>Pressure or massflow outflow boundaries are specified in a similar manner to the <a class="reference internal" href="#inflow">Inflow</a> boundary. They can be of :code`’kind’` <code class="code docutils literal notranslate"><span class="pre">'pressure'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'radial</span> <span class="pre">pressure</span> <span class="pre">gradient'</span></code> or <code class="code docutils literal notranslate"><span class="pre">'massflow'</span></code>. When either pressure boundary is set the <code class="code docutils literal notranslate"><span class="pre">'IC_'</span></code> conditions it refers to must set a static temperaure ratio, when <code class="code docutils literal notranslate"><span class="pre">'massflow'</span></code> is specified a massflow ratio must be set.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_4&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition overide</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;outflow&#39;</span><span class="p">,</span>
         <span class="c1"># Kind of outflow &#39;pressure, &#39;massflow&#39; or &#39;radial pressure gradient&#39;</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span>
         <span class="c1"># Required only when using &#39;radial pressure gradient&#39;</span>
         <span class="c1"># Radius at which the static pressure ratio is defined</span>
         <span class="s1">&#39;reference radius&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="c1"># Outflow conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="symmetry">
<h3>Symmetry<a class="headerlink" href="#symmetry" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_5&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition overide</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;symmetry&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="periodic">
<h3>Periodic<a class="headerlink" href="#periodic" title="Permalink to this headline">¶</a></h3>
<p>This boundary condition needs to be specified in pairs with opposing transformations.
The transforms specified should map each zone onto each other.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_6&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Required: Specific zone index</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
         <span class="c1"># Required: Type of boundary condition</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;periodic&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Either &#39;rotated&#39; or &#39;linear&#39; periodicity</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Rotated periodic settings</span>
                  <span class="s1">&#39;rotated&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="s1">&#39;theta&#39;</span> <span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">120.0</span><span class="p">),</span>
                              <span class="s1">&#39;axis&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                              <span class="s1">&#39;origin&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                              <span class="p">},</span>
                  <span class="c1"># Linear periodic settings</span>
                  <span class="s1">&#39;linear&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="p">},</span>
                <span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fluid-zones">
<h2>Fluid Zones<a class="headerlink" href="#fluid-zones" title="Permalink to this headline">¶</a></h2>
<p>The fluidic zone properties are defined using consecutively numbered blocks like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;FZ_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;FZ_3&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>For actuator disk zones</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;disc&#39;</span><span class="p">,</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;T38-248.75.vtp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;thrust coefficient&#39;</span><span class="p">:</span><span class="mf">0.84</span><span class="p">,</span>
        <span class="s1">&#39;tip speed ratio&#39;</span><span class="p">:</span><span class="mf">6.0</span><span class="p">,</span>
        <span class="s1">&#39;centre&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mf">159.34009325</span><span class="p">,</span><span class="o">-</span><span class="mf">2161.73165187</span><span class="p">,</span><span class="mf">70.0</span><span class="p">],</span>
        <span class="s1">&#39;up&#39;</span><span class="p">:[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
        <span class="s1">&#39;normal&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
        <span class="s1">&#39;inner radius&#39;</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;outer radius&#39;</span><span class="p">:</span><span class="mf">40.0</span><span class="p">,</span>
        <span class="c1"># Location of reference conditions used to calculate thrust from C</span>
        <span class="s1">&#39;reference point&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="mesh-transformations">
<h2>Mesh Transformations<a class="headerlink" href="#mesh-transformations" title="Permalink to this headline">¶</a></h2>
<p>Radial Basis Functions (RBFs) can be used to deform the volume mesh according to the motion of some or all of the boundary nodes. zCFD can perform an arbitrary number of transforms which are specified in consecutively numbered blocks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
<span class="s1">&#39;TR_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Required: list of surface zones to deform</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
         <span class="c1"># Required: function describing surface deformation</span>
         <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">transWing</span><span class="p">,</span>
         <span class="c1"># Required: support radius of RBFs</span>
         <span class="s1">&#39;alpha&#39;</span> <span class="p">:</span> <span class="mf">200.0</span><span class="p">,</span>
         <span class="c1"># Required: type of RBF, one of c0, c2, gaussian, tps</span>
         <span class="s1">&#39;basis&#39;</span> <span class="p">:</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span>
         <span class="c1"># Required: maximum error tolerance for greedy algorithm</span>
         <span class="s1">&#39;tol&#39;</span> <span class="p">:</span> <span class="mf">0.005</span><span class="p">,</span>
         <span class="c1"># Optional: Surface zones that remain fixed</span>
         <span class="s1">&#39;fixed&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                   <span class="p">},</span>
         <span class="p">},</span>
</pre></div>
</div>
<p>An example of a function to deform a surface is given below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">transWing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
     <span class="n">ymax</span> <span class="o">=</span> <span class="mf">1.0</span>
     <span class="n">ymin</span> <span class="o">=</span> <span class="mf">0.1</span>
     <span class="n">yNorm</span> <span class="o">=</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ymax</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span>
     <span class="n">x2</span> <span class="o">=</span> <span class="n">x</span>
     <span class="n">y2</span> <span class="o">=</span> <span class="n">y</span>
     <span class="n">z2</span> <span class="o">=</span> <span class="n">z</span>
     <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mf">1.1</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">1.1</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.1</span> <span class="ow">and</span> <span class="n">z</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.1</span> <span class="ow">and</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
         <span class="n">z2</span> <span class="o">=</span> <span class="n">z</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mf">20.0</span><span class="o">*</span><span class="n">yNorm</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">yNorm</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">10.0</span><span class="o">*</span><span class="n">yNorm</span><span class="p">)</span><span class="o">/</span><span class="mf">31.0</span>

     <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;v1&#39;</span> <span class="p">:</span> <span class="n">x2</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span> <span class="p">:</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span> <span class="p">:</span> <span class="n">z2</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="reporting">
<h2>Reporting<a class="headerlink" href="#reporting" title="Permalink to this headline">¶</a></h2>
<p>In addition to standard flow field outputs (see below), zCFD can provide information at monitor points in the flow domain, and integrated forces across all parallel partitions, any number of <code class="code docutils literal notranslate"><span class="pre">'MR_'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'FR_'</span></code> or <code class="code docutils literal notranslate"><span class="pre">'MF_'</span></code> blocks may be spcified.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;report&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Report frequency</span>
            <span class="s1">&#39;frequency&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="c1"># Extract specified variable at fixed locations</span>
            <span class="s1">&#39;monitor&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="c1"># Consecutively numbered blocks</span>
                        <span class="s1">&#39;MR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                 <span class="c1"># Required: Output name</span>
                                 <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;monitor_1&#39;</span><span class="p">,</span>
                                 <span class="c1"># Required: Location</span>
                                 <span class="s1">&#39;point&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                                 <span class="c1"># Required: Variables to be extracted</span>
                                 <span class="s1">&#39;variables&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;ti&#39;</span><span class="p">],</span>
                                 <span class="p">},</span>
                        <span class="p">},</span>

            <span class="c1"># Report force coefficient in grid axis as well as using user defined transform</span>
            <span class="s1">&#39;forces&#39;</span> <span class="p">:</span> <span class="p">{</span>
                       <span class="c1"># Consecutively numbered blocks</span>
                       <span class="s1">&#39;FR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                <span class="c1"># Required: Output name</span>
                                <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;force_1&#39;</span><span class="p">,</span>
                                <span class="c1"># Required: Zones to be included</span>
                                <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                                <span class="c1"># Transformation function</span>
                                <span class="s1">&#39;transform&#39;</span> <span class="p">:</span> <span class="n">my_transform</span><span class="p">,</span>
                                <span class="c1"># Optional (default 1.0):</span>
                                <span class="s1">&#39;reference area&#39;</span> <span class="p">:</span> <span class="mf">0.112032</span><span class="p">,</span>
                                <span class="c1"># Optional (default 1.0):</span>
                                <span class="s1">&#39;reference length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                <span class="c1"># Optional (default [0.0, 0.0, 0.0]):</span>
                                <span class="s1">&#39;reference point&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                                <span class="p">},</span>
                       <span class="p">},</span>

            <span class="c1"># Report massflow ratio</span>
            <span class="s1">&#39;massflow&#39;</span> <span class="p">:</span> <span class="p">{</span>
                         <span class="c1"># Consecutively numbered blocks</span>
                         <span class="s1">&#39;MF_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                  <span class="c1"># Required: Output name</span>
                                  <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;massflow_1&#39;</span><span class="p">,</span>
                                  <span class="c1"># Required: Zones to be included</span>
                                  <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                                  <span class="p">},</span>
                         <span class="p">},</span>
        <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-transformation-function">
<h3>Example Transformation Function<a class="headerlink" href="#example-transformation-function" title="Permalink to this headline">¶</a></h3>
<p>A transformation function my be supplied to the force report block to transform the force into a different coordinate system, this a particularly useful for reporting lift and drag which are often rotated from the solver coordinate system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Angle of attack</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="c1"># Transform into wind axis</span>
<span class="k">def</span> <span class="nf">my_transform</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">]</span>
    <span class="n">v</span> <span class="o">=</span>  <span class="n">zutil</span><span class="o">.</span><span class="n">rotate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;v1&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;v2&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;v3&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>For solver efficiency, zCFD outputs the raw flow field data (plus any user-defined variables) to each parallel partition without re-combining the output files. The <code class="code docutils literal notranslate"><span class="pre">'write</span> <span class="pre">output'</span></code> dictionary controls solver output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;write output&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Required: Output format: &#39;vtk&#39;, &#39;ensight&#39;, &#39;native&#39;</span>
                  <span class="s1">&#39;format&#39;</span> <span class="p">:</span> <span class="s1">&#39;vtk&#39;</span><span class="p">,</span>
                  <span class="c1"># Required: Variables to output on each boundary type</span>
                  <span class="s1">&#39;surface variables&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">],</span>
                  <span class="c1"># Required: Field variables to be output</span>
                  <span class="s1">&#39;volume variables&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: Volume interpolation - interpolates cell values to points in supplied meshes</span>
                  <span class="s1">&#39;volume interpolate&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mesh.vtp&#39;</span><span class="p">,</span> <span class="s1">&#39;mesh.vtu&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: Paraview catalyst scripts</span>
                  <span class="s1">&#39;scripts&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;paraview_catalyst1.py&#39;</span><span class="p">,</span><span class="s1">&#39;paraview_catalyst2.py&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: If downstream processes need variables named using a specific convention a naming alias dictionary can be supplied</span>
                  <span class="s1">&#39;variable_name_alias&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;V&quot;</span> <span class="p">:</span> <span class="s2">&quot;VELOCITY&quot;</span><span class="p">,</span> <span class="p">},</span>
                  <span class="c1"># Required: Output frequency</span>
                  <span class="s1">&#39;frequency&#39;</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                  <span class="c1"># Optional for DG: Output high order surface data on zones</span>
                  <span class="s1">&#39;high order surface list&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                  <span class="c1"># Only for time accirate simulations:</span>
                  <span class="c1"># Start output after real time cycle</span>
                  <span class="s1">&#39;start output real time cycle&#39;</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                  <span class="c1"># Unsteady restart file output frequency</span>
                  <span class="s1">&#39;unsteady restart file output frequency&#39;</span> <span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                  <span class="c1"># Output real time cycle frequency</span>
                  <span class="s1">&#39;output real time cycle frequency&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                  <span class="c1"># Optional (default False):</span>
                  <span class="c1"># Don&#39;t output vtk volume data</span>
                  <span class="s1">&#39;no volume vtk&#39;</span> <span class="p">:</span> <span class="bp">False</span>
                <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="output-variables">
<h3>Output Variables<a class="headerlink" href="#output-variables" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="12%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable Name</th>
<th class="head">Alias</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>temperature</td>
<td>T, t</td>
<td>Temperature in (<span class="math notranslate nohighlight">\(K\)</span>)</td>
</tr>
<tr class="row-odd"><td>temperaturegrad</td>
<td>&#160;</td>
<td>Temperature gradient vector</td>
</tr>
<tr class="row-even"><td>potentialtemperature</td>
<td>&#160;</td>
<td>Potential temperature in (<span class="math notranslate nohighlight">\(K\)</span>)</td>
</tr>
<tr class="row-odd"><td>pressure</td>
<td>p</td>
<td>Pressure (<span class="math notranslate nohighlight">\(Pa\)</span>)</td>
</tr>
<tr class="row-even"><td>gauge_pressure</td>
<td>&#160;</td>
<td>Pressure relative to the reference value (<span class="math notranslate nohighlight">\(Pa\)</span>)</td>
</tr>
<tr class="row-odd"><td>density</td>
<td>rho</td>
<td>Density (<span class="math notranslate nohighlight">\(kg/m^3\)</span>)</td>
</tr>
<tr class="row-even"><td>velocity</td>
<td>V, v</td>
<td>Velocity vector (<span class="math notranslate nohighlight">\(m/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>velocitygradient</td>
<td>&#160;</td>
<td>Velocity gradient tensor</td>
</tr>
<tr class="row-even"><td>cp</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Pressure_coefficient">Pressure coefficient</a></td>
</tr>
<tr class="row-odd"><td>totalcp</td>
<td>&#160;</td>
<td>Total presure coefficient</td>
</tr>
<tr class="row-even"><td>mach</td>
<td>m</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Mach_number">Mach number</a></td>
</tr>
<tr class="row-odd"><td>viscosity</td>
<td>mu</td>
<td>Dynamic viscosity (<span class="math notranslate nohighlight">\(Pa/s\)</span>)</td>
</tr>
<tr class="row-even"><td>kinematicviscosity</td>
<td>nu</td>
<td>Kinematic viscosity (<span class="math notranslate nohighlight">\(m^2/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>vorticity</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Vorticity">Vorticity vector</a> (<span class="math notranslate nohighlight">\(1/s\)</span>)</td>
</tr>
<tr class="row-even"><td>Qcriterion</td>
<td>&#160;</td>
<td>Q criterion</td>
</tr>
<tr class="row-odd"><td>reynoldstress</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Reynolds_stress">Reynolds stress tensor</a></td>
</tr>
<tr class="row-even"><td>helicity</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Hydrodynamical_helicity">Helicity</a></td>
</tr>
<tr class="row-odd"><td>enstrophy</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>ek</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>lesregion</td>
<td>&#160;</td>
<td>Different depending on turbulence model??</td>
</tr>
<tr class="row-even"><td>turbulenceintensity</td>
<td>ti</td>
<td>Turbulence intensity</td>
</tr>
<tr class="row-odd"><td>turbulencekineticenergy</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Turbulence_kinetic_energy">Turbulence kinetic energy</a> (<span class="math notranslate nohighlight">\(J/kg\)</span>)</td>
</tr>
<tr class="row-even"><td>turbulenceeddyfrequency</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/SST_(Menter%E2%80%99s_Shear_Stress_Transport)#K-W_Closure">Turbulence eddy frequency</a> (<span class="math notranslate nohighlight">\(1/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>eddy</td>
<td>&#160;</td>
<td>Eddy viscosity (<span class="math notranslate nohighlight">\(Pa/s\)</span>)</td>
</tr>
<tr class="row-even"><td>cell_velocity</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cellzone</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>cellorder</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>centre</td>
<td>&#160;</td>
<td>Cell centre location</td>
</tr>
<tr class="row-even"><td>viscouslengthscale</td>
<td>&#160;</td>
<td>Defined?? Minium distance between cell and its neighbours</td>
</tr>
<tr class="row-odd"><td>walldistance</td>
<td>&#160;</td>
<td>Wall distance (<span class="math notranslate nohighlight">\(m\)</span>)</td>
</tr>
<tr class="row-even"><td>sponge</td>
<td>&#160;</td>
<td>Sponge layer damping coefficient</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="surface-only-quantities">
<h4>Surface Only Quantities<a class="headerlink" href="#surface-only-quantities" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="22%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable Name</th>
<th class="head">Alias</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>pressureforce</td>
<td>&#160;</td>
<td>Pressure component of force on a face</td>
</tr>
<tr class="row-odd"><td>pressuremoment</td>
<td>&#160;</td>
<td>Pressure component of moment on a face</td>
</tr>
<tr class="row-even"><td>pressuremomentx</td>
<td>&#160;</td>
<td>Component of pressure moment around x axis</td>
</tr>
<tr class="row-odd"><td>pressuremomenty</td>
<td>&#160;</td>
<td>Component of pressure moment around y axis</td>
</tr>
<tr class="row-even"><td>pressuremomentz</td>
<td>&#160;</td>
<td>Component of pressure moment around z axis</td>
</tr>
<tr class="row-odd"><td>frictionforce</td>
<td>&#160;</td>
<td>Skin friction component of force on a face</td>
</tr>
<tr class="row-even"><td>frictionmoment</td>
<td>&#160;</td>
<td>Skin friction component of moment on a face</td>
</tr>
<tr class="row-odd"><td>frictionmomentx</td>
<td>&#160;</td>
<td>Component of skin friction moment around x axis</td>
</tr>
<tr class="row-even"><td>frictionmomenty</td>
<td>&#160;</td>
<td>Component of skin friction moment around y axis</td>
</tr>
<tr class="row-odd"><td>frictionmomentz</td>
<td>&#160;</td>
<td>Component of skin friction moment around z axis</td>
</tr>
<tr class="row-even"><td>roughness</td>
<td>&#160;</td>
<td>Wall roughness height</td>
</tr>
<tr class="row-odd"><td>yplus</td>
<td>&#160;</td>
<td>Non-dinemsional wall distance</td>
</tr>
<tr class="row-even"><td>zone</td>
<td>&#160;</td>
<td>Boundary zone number</td>
</tr>
<tr class="row-odd"><td>cf</td>
<td>&#160;</td>
<td>Skin friction coefficient</td>
</tr>
<tr class="row-even"><td>facecentre</td>
<td>&#160;</td>
<td>Face centre location</td>
</tr>
<tr class="row-odd"><td>frictionvelocity</td>
<td>ut</td>
<td>Friction velocity at the wall</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ZCFD_Mark_CMYK.png" alt="Logo"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="mycluster.html">MyCluster</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control Dictionary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reference-settings">Reference Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initialisation">Initialisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#low-mach-number-preconditioner-settings-optional">Low Mach number preconditioner settings (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-marcher">Time Marcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#equations">Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dg-order-specification">DG Order Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dg-nodal-locations">DG Nodal locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#material-specification">Material Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initial-conditions">Initial Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boundary-conditions">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fluid-zones">Fluid Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-transformations">Mesh Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reporting">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="meshutil.html">Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdf.html">PDF copy</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016-18, Zenotech Ltd.
      
      |
      <a href="_sources/control-dict.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32675146-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>