
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Control Dictionary &#8212; zCFD User Guide v2022.09.2368-42-g31231 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/fav.png"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh Conversion" href="meshutil.html" />
    <link rel="prev" title="MyCluster" href="mycluster.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="control-dictionary">
<h1>Control Dictionary<a class="headerlink" href="#control-dictionary" title="Permalink to this headline">¶</a></h1>
<p>The zCFD control file is a python file that is executed at runtime. This provides a flexible way of specifying key parameters, enabling user defined functions and leveraging the rich array of python libraries available.</p>
<p>A python dictionary called ‘parameters’ provides the main interface to controlling zCFD</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="o">....</span><span class="p">}</span>
</pre></div>
</div>
<p>zCFD will validate the parameters dictionary specified at run time against a set of expected values for each key. In general, values that should be integers and floats will be coerced to the correct type. Values which should be strings, booleans, lists or dictionaries will cause an error if they are the incorrect type. The time marching scheme and solver/equation set chosen defines which dictionary keys are valid. A simple script is provided to allow the user to check the validity of their input parameters before submitting their job. See <a class="reference internal" href="execution.html#input-validation"><span class="std std-ref">Input Validation</span></a>.</p>
<div class="section" id="reference-settings">
<h2>Reference Settings<a class="headerlink" href="#reference-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="define-units">
<h3>Define units<a class="headerlink" href="#define-units" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default &#39;SI&#39;):</span>
<span class="c1"># units for dimensional quantities</span>
<span class="s1">&#39;units&#39;</span> <span class="p">:</span> <span class="s1">&#39;SI&#39;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="scale-mesh">
<h3>Scale mesh<a class="headerlink" href="#scale-mesh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default [1.0,1.0,1.0]):</span>
<span class="c1"># Scale vector</span>
<span class="s1">&#39;scale&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional</span>
<span class="c1"># Scale function</span>
<span class="s1">&#39;scale&#39;</span> <span class="p">:</span> <span class="n">scale_func</span><span class="p">,</span>
</pre></div>
</div>
<p>Example scale function</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Scale function</span>
<span class="k">def</span> <span class="nf">scale_func</span><span class="p">(</span><span class="n">point</span><span class="p">):</span>
    <span class="c1"># Scale z coordinate by 100</span>
    <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mf">100.0</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;coord&#39;</span> <span class="p">:</span> <span class="n">point</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="reference-state">
<h3>Reference state<a class="headerlink" href="#reference-state" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># reference state</span>
<span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#initial-conditions">Initial Conditions</a></p>
</div>
<div class="section" id="partitioner">
<h3>Partitioner<a class="headerlink" href="#partitioner" title="Permalink to this headline">¶</a></h3>
<p>The ‘metis’ partitioner is used to split the computational mesh up so that the job can be run in parallel.  Other partitioners will be added in future code releases</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default &#39;metis&#39;):</span>
<span class="c1"># partitioner type</span>
<span class="s1">&#39;partitioner&#39;</span> <span class="p">:</span> <span class="s1">&#39;metis&#39;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="safe-mode">
<h3>Safe Mode<a class="headerlink" href="#safe-mode" title="Permalink to this headline">¶</a></h3>
<p>Safe mode turns on extra checks and provides diagnosis in the case of solver stability issues</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optional (default False):</span>
<span class="c1"># Safe mode</span>
<span class="s1">&#39;safe&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="initialisation">
<h2>Initialisation<a class="headerlink" href="#initialisation" title="Permalink to this headline">¶</a></h2>
<p>Initial conditions are used to set the flow variable values in all cells at the start of a simulation.  The initial conditions default to the reference state (above) if not specified</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initial conditions</span>
<span class="s1">&#39;initial&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#initial-conditions">Initial Conditions</a>. A function which defines the initial fields may be supplied</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initial conditions</span>
<span class="s1">&#39;initial&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Name of initial condition</span>
              <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
              <span class="c1"># Optional: User defined function</span>
              <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">my_initialisation</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-user-defined-initialisation-function">
<h3>Example User Defined Initialisation Function<a class="headerlink" href="#example-user-defined-initialisation-function" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_initialisation</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="c1"># Dimensional primitive variables</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span>
    <span class="n">temperature</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
    <span class="n">velocity</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;velocity&#39;</span><span class="p">]</span>
    <span class="n">wall_distance</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;wall_distance&#39;</span><span class="p">]</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">location</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="p">:</span>
      <span class="n">velocity</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">2.0</span>

    <span class="c1"># Return a dictionary with user defined quantity.</span>
    <span class="c1"># Same schema as above</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s1">&#39;velocity&#39;</span> <span class="p">:</span> <span class="n">velocity</span> <span class="p">}</span>
</pre></div>
</div>
<p>To restart from a previous solution there are two options.  A solve can be restarted on the same mesh using the options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Restart from previous solution</span>
<span class="s1">&#39;restart&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="c1"># Optional: Restart from a different case</span>
<span class="s1">&#39;restart casename&#39;</span> <span class="p">:</span> <span class="s1">&#39;my_case&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Alternatively, a solution from another mesh can be mapped on to a new mesh using the options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Restart from previous solution on a different mesh</span>
<span class="s2">&quot;interpolate restart&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="c1"># Required: Restart from a different case</span>
<span class="s2">&quot;restart casename&quot;</span><span class="p">:</span> <span class="s2">&quot;different_case&quot;</span><span class="p">,</span>
<span class="c1"># Required: Restart from a different mesh</span>
<span class="s2">&quot;restart meshname&quot;</span><span class="p">:</span> <span class="s2">&quot;different_mesh&quot;</span><span class="p">,</span>
<span class="c1"># Optional: Number of Laplace smoothing cycles to smooth initial mapped solution (default 0)</span>
<span class="s2">&quot;solution smooth cycles&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
<p>It is possible to restart the SA-neg solver from results generated using the Menter SST solver and vice versa, however by default the turbulence field(s) are reset to zero. An approximate initial solution for the SA-neg model can be generated from Menter-SST results by adding the key</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate approximate initial field for SA-neg</span>
<span class="s1">&#39;approximate sa from sst results&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="low-mach-number-preconditioner-settings-optional">
<h2>Low Mach number preconditioner settings (Optional)<a class="headerlink" href="#low-mach-number-preconditioner-settings-optional" title="Permalink to this headline">¶</a></h2>
<p>The preconditioner is a mathematical technique for improving the speed of the solver when the fluid flow is slow compared to the speed of sound.  Use of the preconditioner does not alter the final converged solution produced by the solver.  The preconditioner factor is used to improve the robustness of the solver in regions of very low speed. The preconditioner is controlled in the <code class="code docutils literal notranslate"><span class="pre">'equations'</span></code> dictionary (see <a class="reference internal" href="#equations">Equations</a>) by setting the <code class="code docutils literal notranslate"><span class="pre">'precondition'</span></code> key, for example when using the euler solver</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;euler&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="c1"># Optional (default False):</span>
          <span class="c1"># Use low speed mach preconditioner</span>
          <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>

<span class="c1"># Optional, Advanced: Preconditioner factor</span>
<span class="s1">&#39;preconditioner&#39;</span> <span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;minimum mach number&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                   <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="time-marcher">
<h2>Time Marcher<a class="headerlink" href="#time-marcher" title="Permalink to this headline">¶</a></h2>
<p>zCFD is capable of performing both steady-state and time accurate simulations. In the first case the solution is marched in pseudo time using the dual time-stepping algorithm towards the steady-state solution. For time accurate simulations the solution can be either globally time-stepped or use dual time-stepping. The <code class="code docutils literal notranslate"><span class="pre">'time</span> <span class="pre">marching'</span></code> dictionary controls the selection of these schemes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>Time accurate (unsteady) simulation control</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="s1">&#39;unsteady&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                 <span class="c1"># Total time in seconds</span>
                                 <span class="s1">&#39;total time&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                 <span class="c1"># Time step in seconds</span>
                                 <span class="s1">&#39;time step&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                 <span class="c1"># Required only when dual time-stepping:</span>
                                 <span class="c1"># Dual time step time accuracy (options: &#39;first&#39; or &#39;second&#39; order)</span>
                                 <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
                                 <span class="c1"># Required only when dual time-stepping:</span>
                                 <span class="c1"># Number of pseudo time (steady) cycles to run before starting dual timestep time accurate simulation</span>
                                 <span class="s1">&#39;start&#39;</span> <span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
                                 <span class="p">},</span>
                   <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="solver-scheme">
<h3>Solver scheme<a class="headerlink" href="#solver-scheme" title="Permalink to this headline">¶</a></h3>
<p>There are three different time marching schemes available in zCFD: Explicit Euler, various orders of Runge Kutta (like Euler…) and the implicit Euler scheme. These can be run with dual time-stepping for both steady and unsteady simulations.  Explicit schemes with no preconditioning can be used with global time-stepping for unsteady simulations. The choice of scheme and time stepping algorithm affects which dictionary keys are valid.</p>
<div class="section" id="runge-kutta">
<h4>Runge Kutta<a class="headerlink" href="#runge-kutta" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="s1">&#39;scheme&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># Either &#39;euler&#39; or &#39;runge kutta&#39; or &#39;implicit euler&#39;</span>
                              <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;runge kutta&#39;</span><span class="p">,</span>
                              <span class="c1"># Number of RK stages &#39;euler&#39; or 1, 4, 5, &#39;rk third order tvd&#39;</span>
                              <span class="s1">&#39;stage&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                              <span class="c1"># Time-stepping scheme: &#39;local timestepping&#39; for steady state or dual time step time accurate</span>
                              <span class="c1"># &#39;global timestepping&#39; for time accurate</span>
                              <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;local timestepping&#39;</span><span class="p">,</span>
                              <span class="c1"># With AMGX, the linearsolver can be run in single or double precision modes</span>
                              <span class="s1">&#39;double precision linear solve&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                              <span class="p">},</span>
                   <span class="p">},</span>
</pre></div>
</div>
<p>When global time-stepping is specified the keys <code class="code docutils literal notranslate"><span class="pre">['unsteady']['order']</span></code> and <code class="code docutils literal notranslate"><span class="pre">['unsteady']['start']</span></code> are not valid. The CFL keys in in the <a class="reference internal" href="#cfl">CFL</a> section below are also not valid as the time step is explicitly specified.
When the <code class="code docutils literal notranslate"><span class="pre">['unsteady']['total</span> <span class="pre">time']</span></code> and <code class="code docutils literal notranslate"><span class="pre">['unsteady']['time</span> <span class="pre">step']</span></code> keys are set to be equal values and <code class="code docutils literal notranslate"><span class="pre">['time</span> <span class="pre">marching']['scheme']['kind']</span></code> is set to <code class="code docutils literal notranslate"><span class="pre">'local</span> <span class="pre">timestepping'</span></code> the solver marches in pseudo time towards a steady state solution. If implicit euler is selected then the <code class="code docutils literal notranslate"><span class="pre">'multigrid'</span></code> keys must be removed.  For large CFL numbers, it is recommended the Roe inviscid flux scheme is used.</p>
</div>
</div>
<div class="section" id="cfl">
<h3>CFL<a class="headerlink" href="#cfl" title="Permalink to this headline">¶</a></h3>
<p>The Courant-Friedrichs-Lewy (CFL) number controls the local pseudo time-step that the solver uses to reach a converged solution. The larger the CFL number, the faster the solver will run but the less stable it will be.  The default values should be appropriate for most cases, but for lower-quality meshes or very complex geometries it may be necessary to use lower values (e.g. CFL of 1.0).  In such cases it may also be helpful to turn off Multigrid (above) by setting the maximum number of meshes to 0. The CFL dictionary keys are only valid when using dual time-stepping.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Default max CFL number for all equations</span>
                  <span class="s1">&#39;cfl&#39;</span><span class="p">:</span> <span class="mf">2.5</span>
                  <span class="c1"># Optional (default &#39;cfl&#39; value):</span>
                  <span class="c1"># Override max CFL number for transported quantities</span>
                  <span class="s1">&#39;cfl transport&#39;</span> <span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                  <span class="c1"># Optional (default &#39;cfl&#39; value):</span>
                  <span class="c1"># Override max CFL number for coarse meshes</span>
                  <span class="s1">&#39;cfl coarse&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                  <span class="c1"># Control of CFL for polynomial multigrid (highest and lowest order)</span>
                  <span class="s1">&#39;multipolycfl&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">],</span>
                  <span class="c1"># Optional: Ramp cfl</span>
                  <span class="s1">&#39;cfl ramp factor&#39;</span><span class="p">:</span> <span class="p">{</span>
                                     <span class="c1"># cfl = cfl_ini * growth ^ cycle</span>
                                     <span class="s1">&#39;growth&#39;</span><span class="p">:</span> <span class="mf">1.05</span><span class="p">,</span>
                                     <span class="c1"># min cfl</span>
                                     <span class="s1">&#39;initial&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
                                     <span class="p">},</span>
                  <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="cycles">
<h3>Cycles<a class="headerlink" href="#cycles" title="Permalink to this headline">¶</a></h3>
<p>For steady-state simulations, the number of pseudo time cycles is the same as the number of steps that the solver should use to reach a converged solution.  Note that the solver uses local pseudo time-stepping (the time-step varies according to local conditions) so any intermediate solution is not necessarily time-accurate.</p>
<p>For unsteady (time-accurate) simulations using ‘dual time-stepping’ to advance the solution in time the number of pseudo time cycles determines the number of inner iterations that the solver uses to converge each real time step. When global time-stepping is specified the cycles key is not valid.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Required only for dual time-stepping:</span>
                  <span class="c1"># Number of pseudo time cycles</span>
                  <span class="s1">&#39;cycles&#39;</span> <span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="multigrid">
<h3>Multigrid<a class="headerlink" href="#multigrid" title="Permalink to this headline">¶</a></h3>
<p>The mesh is automatically coarsened by merging cells on successive layers in order to accelerate solver convergence.  This does not alter the accuracy of the solution on the finest (original) mesh.  Advanced users can control the number of geometric multigrid levels and the ‘prolongation’ of quantities from coarse to fine meshes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="c1"># Maximum number of meshes (including fine mesh)</span>
                <span class="s1">&#39;multigrid&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="c1"># Optional:</span>
                <span class="c1"># Number of multigrid cycles before solving on fine mesh only</span>
                <span class="s1">&#39;multigrid cycles&#39;</span> <span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
                <span class="c1"># Optional (default 0.75), Advanced:</span>
                <span class="c1"># Prolongation factor</span>
                <span class="s1">&#39;prolong factor&#39;</span> <span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
                <span class="c1"># Optional (default 0.3), Advanced:</span>
                <span class="c1"># Prolongation factor for transported quantities</span>
                <span class="s1">&#39;prolong transport factor&#39;</span> <span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="polynomial-multigrid">
<h3>Polynomial Multigrid<a class="headerlink" href="#polynomial-multigrid" title="Permalink to this headline">¶</a></h3>
<p>The polynomial basis on which the solution is computed can be successively coarsened, thus allowing the solution to be evolved quicker due to weakened stability restrictions at lower polynomial orders. This does not alter the accuracy of the solution on the highest polynomial order.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;time marching&#39;</span> <span class="p">:</span> <span class="p">{</span>
                   <span class="c1"># Optional (default False):</span>
                   <span class="c1"># Switch on polynomial multigrid</span>
                   <span class="s1">&#39;multipoly&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                   <span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="equations">
<h2>Equations<a class="headerlink" href="#equations" title="Permalink to this headline">¶</a></h2>
<p>The equations key selects the equation set to be solved as well as the finite volume solver or the high order strong form Discontinuous Galerkin/Flux Reconstruction solver. For each equation type the valid keys are listed below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Governing equations to be used</span>
<span class="c1"># one of: RANS, euler, viscous, LES, DGRANS, DGviscous, DGLES, DGCAA</span>
<span class="s1">&#39;equations&#39;</span> <span class="p">:</span> <span class="s1">&#39;RANS&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Compressible Euler flow is inviscid (no viscosity and hence no turbulence).  The compressible Euler equations are appropriate when modelling flows where momentum significantly dominates viscosity - for example at very high speed. The computational mesh used for Euler flow does not need to resolve the flow detail in the boundary layer and hence will generally have far fewer cells than the corresponding viscous mesh would have.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;euler&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Spatial accuracy (options: first, second)</span>
            <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default 0):</span>
            <span class="c1"># Run first order spatial accuracy for the first x cycles</span>
            <span class="s1">&#39;first order cycles&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
            <span class="c1"># MUSCL limiter (options: vanalbada)</span>
            <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default off)</span>
            <span class="c1"># Cycle on which to freeze the limiter values</span>
            <span class="s1">&#39;freeze limiter cycle&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use low speed mach preconditioner</span>
            <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use linear gradients</span>
            <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
            <span class="c1"># Scheme for inviscid flux: HLLC, Rusanov or Roe</span>
            <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
          <span class="p">},</span>
</pre></div>
</div>
<p>The viscous (laminar) equations model flow that is viscous but not turbulent.  The <a class="reference external" href="http://en.wikipedia.org/wiki/Reynolds_number">Reynolds number</a> of a flow regime determines whether or not the flow will be turbulent. The computational mesh for a viscous flow does have to resolve the boundary layer, but the solver will run faster as fewer equations are being included.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;viscous&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Spatial accuracy (options: first, second)</span>
              <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default 0):</span>
              <span class="c1"># Run first order spatial accuracy for the first x cycles</span>
              <span class="s1">&#39;first order cycles&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
              <span class="c1"># MUSCL limiter (options: vanalbada)</span>
              <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use low speed mach preconditioner</span>
              <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use linear gradients</span>
              <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
              <span class="c1"># Scheme for inviscid flux: HLLC or Rusanov</span>
              <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<p>The fully turbulent (Reynolds Averaged Navier-Stokes Equations)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;RANS&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Spatial accuracy (options: first, second, euler_second)</span>
            <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default 0):</span>
            <span class="c1"># Run first order spatial accuracy for the first x cycles</span>
            <span class="s1">&#39;first order cycles&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
            <span class="c1"># MUSCL limiter (options: vanalbada)</span>
            <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default off)</span>
            <span class="c1"># Cycle on which to freeze the limiter values</span>
            <span class="s1">&#39;freeze limiter cycle&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use low speed mach preconditioner</span>
            <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use linear gradients</span>
            <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="c1"># Optional (default False):</span>
            <span class="c1"># Use least squares gradients</span>
            <span class="s1">&#39;leastsq gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
            <span class="c1"># Scheme for inviscid flux: HLLC, Rusanov, Roe or Roe low diss</span>
            <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default &#39;NONE&#39;)</span>
            <span class="c1"># Roe low dissipation sensor type: &#39;FD&#39; (wall distance based), &#39;NTS&#39; (vorticity based), &#39;DES&#39; (DES blending function based) or &#39;NONE&#39;</span>
            <span class="s1">&#39;roe low dissipation sensor&#39;</span><span class="p">:</span> <span class="s1">&#39;DES&#39;</span><span class="p">,</span>
            <span class="c1"># Optional (default 0.05)</span>
            <span class="c1"># Minimum value of the Roe low dissipation sensor</span>
            <span class="s1">&#39;roe dissipation sensor minimum&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
            <span class="c1"># Turbulence</span>
            <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># turbulence model (options: &#39;sst&#39;, &#39;sa-neg&#39;, &#39;sst-transition&#39;)</span>
                              <span class="s1">&#39;model&#39;</span> <span class="p">:</span> <span class="s1">&#39;sst&#39;</span><span class="p">,</span>
                              <span class="c1"># Optional (default &#39;none&#39;):</span>
                              <span class="c1"># LES model (options &#39;none&#39;, &#39;DES&#39;, &#39;DDES&#39;, &#39;SAS&#39;)</span>
                              <span class="s1">&#39;les&#39;</span> <span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
                              <span class="c1"># Optional (default 0.09):</span>
                              <span class="c1"># betastar turbulence closure constant</span>
                              <span class="s1">&#39;betastar&#39;</span> <span class="p">:</span> <span class="mf">0.09</span><span class="p">,</span>
                              <span class="c1"># Optional (default True):</span>
                              <span class="c1"># turn off mu_t limiter</span>
                              <span class="s1">&#39;limit mut&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                              <span class="c1"># Optional (default CDES=0.65, CDES_kw=0.78, CDES_keps=0.61):</span>
                              <span class="c1"># DES constants</span>
                              <span class="s1">&#39;CDES&#39;</span><span class="p">:</span> <span class="mf">0.65</span>
                              <span class="s1">&#39;CDES_kw&#39;</span><span class="p">:</span> <span class="mf">0.78</span><span class="p">,</span>
                              <span class="s1">&#39;CDES_keps&#39;</span><span class="p">:</span> <span class="mf">0.61</span><span class="p">,</span>
                              <span class="c1"># Optional (default Cd1=20.0, Cd2=3, Cw= 0.15):</span>
                              <span class="c1"># (I)DDES constants</span>
                              <span class="s1">&#39;Cd1&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
                              <span class="s1">&#39;Cd2&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                              <span class="s1">&#39;Cw&#39;</span><span class="p">:</span> <span class="mf">0.15</span><span class="p">,</span>
                              <span class="c1"># Optional when using &#39;sst&#39; (default 0):</span>
                              <span class="c1"># Menter SST production term: 0=SST-V, 1=incompressible, 2=SST</span>
                              <span class="s1">&#39;production&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="c1"># Optional when using &#39;sa-neg&#39; (default False):</span>
                              <span class="c1"># Use sa-neg rotation correction</span>
                              <span class="s1">&#39;rotation correction&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                              <span class="c1"># Optional when using sa-neg (default 0.0):</span>
                              <span class="c1"># Limit the sa-neg gradient based on the maximum value between neighbouring cells.</span>
                              <span class="c1"># k = 0.0 corresponds to no limiting, k = 1.0 maximum limiting.</span>
                              <span class="s1">&#39;limit gradient k&#39;</span><span class="p">:</span> <span class="mf">0.5</span>
                              <span class="c1"># Option when using &#39;sst-transition&#39;</span>
                              <span class="c1"># Transition model constants</span>
                              <span class="s1">&#39;ca1&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                              <span class="s1">&#39;ca2&#39;</span><span class="p">:</span> <span class="mf">0.06</span><span class="p">,</span>
                              <span class="s1">&#39;ce1&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                              <span class="s1">&#39;ce2&#39;</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span>
                              <span class="s1">&#39;cthetat&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
                              <span class="s1">&#39;sigmagamma&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                              <span class="s1">&#39;sigmathetat&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                              <span class="c1"># Option when using &#39;sst-transition&#39;</span>
                              <span class="c1"># Turn transition separation correction model on/off</span>
                              <span class="s1">&#39;separation correction&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                              <span class="c1"># Option when using &#39;sst&#39; or &#39;sa-neg&#39;</span>
                              <span class="c1"># Use the non-linear Quadratic Constitutive Relation</span>
                              <span class="c1"># Spalart, P. R., &quot;Strategies for Turbulence Modelling and Simulation,&quot;</span>
                              <span class="c1"># International Journal of Heat and Fluid Flow, Vol. 21, 2000, pp. 252-263,</span>
                              <span class="c1"># https://doi.org/10.1016/S0142-727X(00)00007-2</span>
                              <span class="s1">&#39;qcr&#39;</span><span class="p">:</span> <span class="kc">True</span>
                            <span class="p">},</span>
           <span class="p">},</span>
</pre></div>
</div>
<p>The filtered Large Eddy Simulation (LES) equations</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;LES&#39;</span> <span class="p">:</span> <span class="p">{</span>
              <span class="c1"># Spatial accuracy (options: first, second)</span>
              <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;vanalbada&#39;):</span>
              <span class="c1"># MUSCL limiter (options: vanalbada)</span>
              <span class="s1">&#39;limiter&#39;</span> <span class="p">:</span> <span class="s1">&#39;vanalbada&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use low speed mach preconditioner</span>
              <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use linear gradients</span>
              <span class="s1">&#39;linear gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
              <span class="c1"># Optional (default False):</span>
              <span class="c1"># Use least squares gradients</span>
              <span class="s1">&#39;leastsq gradients&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;HLLC&#39;):</span>
              <span class="c1"># Scheme for inviscid flux: HLLC, Rusanov, Roe or Roe low diss</span>
              <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default &#39;NONE&#39;)</span>
              <span class="c1"># Roe low dissipation sensor type: &#39;FD&#39; (wall distance based), &#39;NTS&#39; (vorticity based), &#39;DES&#39; (DES blending function based) or &#39;NONE&#39;</span>
              <span class="s1">&#39;roe low dissipation sensor&#39;</span><span class="p">:</span> <span class="s1">&#39;DES&#39;</span><span class="p">,</span>
              <span class="c1"># Optional (default 0.05)</span>
              <span class="c1"># Minimum value of the Roe low dissipation sensor</span>
              <span class="s1">&#39;roe dissipation sensor minimum&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
              <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="c1"># LES model (options &#39;none&#39;, &#39;WALE&#39;)</span>
                              <span class="s1">&#39;les&#39;</span> <span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
                            <span class="p">},</span>

            <span class="p">},</span>
</pre></div>
</div>
<p>When using the high order strong form Discontinuous Galerkin/Flux Reconstruction solver the keys in the equations dictionary are the same for each equation set except that the <code class="code docutils literal notranslate"><span class="pre">'linear</span> <span class="pre">gradients'</span></code> and <code class="code docutils literal notranslate"><span class="pre">'limiter'</span></code> keys are not valid and additional keys are available in the equations dictionary. These additional keys are given below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;DG...&#39;</span> <span class="p">:</span> <span class="p">{</span>
               <span class="c1"># Spatial polynomial order 0,1,2,3</span>
               <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0)</span>
               <span class="s1">&#39;c11 stability parameter&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.5)</span>
               <span class="s1">&#39;LDG upwind parameter&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Shock Sensing&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing k&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing Viscosity Scale&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="c1"># Variable used for shock sensing, one of: &#39;density&#39;, &#39;temperature&#39;, &#39;mach&#39;, &#39;turbulence&#39;</span>
               <span class="s1">&#39;Shock Sensing Variable&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<p>Hence all the available keys for <code class="code docutils literal notranslate"><span class="pre">'DGviscous'</span></code> are a combination of the <code class="code docutils literal notranslate"><span class="pre">'viscous'</span></code> keys and the <code class="code docutils literal notranslate"><span class="pre">'DG...'</span></code> keys. The same logic applies to the <code class="code docutils literal notranslate"><span class="pre">'DGRANS'</span></code>, and <code class="code docutils literal notranslate"><span class="pre">'DGLES'</span></code> equation sets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;DGviscous&#39;</span> <span class="p">:</span> <span class="p">{</span>
               <span class="c1"># Spatial polynomial order 0,1,2,3</span>
               <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="c1"># Use low speed mach preconditioner</span>
               <span class="s1">&#39;precondition&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
               <span class="c1"># Optional (default &#39;HLLC&#39;)</span>
               <span class="c1"># scheme for inviscid flux: HLLC or Rusanov</span>
               <span class="s1">&#39;Inviscid Flux Scheme&#39;</span><span class="p">:</span> <span class="s1">&#39;HLLC&#39;</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.0)</span>
               <span class="s1">&#39;c11 stability parameter&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
               <span class="c1"># Optional (default 0.5)</span>
               <span class="s1">&#39;LDG upwind parameter&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;Shock Sensing&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing k&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="s1">&#39;Shock Sensing Viscosity Scale&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
               <span class="c1"># Variable used for shock sensing, one of: &#39;density&#39;, &#39;temperature&#39;, &#39;mach&#39;, &#39;turbulence&#39;</span>
               <span class="s1">&#39;Shock Sensing Variable&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;inviscid flow&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
               <span class="c1"># Optional (default False)</span>
               <span class="s1">&#39;freeze diffusion during rk stages&#39;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="dg-nodal-locations">
<h2>DG Nodal locations<a class="headerlink" href="#dg-nodal-locations" title="Permalink to this headline">¶</a></h2>
<p>The location of the DG solution points must be specified in the parameters dictionary. The definitions first need to be imported by including this import statement at the start of the control dictionary</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zcfd.solvers.utils.DGNodalLocations</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>To use the default values</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nodal Locations&#39;</span> <span class="p">:</span> <span class="n">nodal_locations_default</span><span class="p">[</span><span class="s1">&#39;Nodal Locations&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or select from the available types</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nodal Locations&#39;</span> <span class="p">:</span> <span class="p">{</span>
                      <span class="c1"># Options line_evenly_spaced, line_gauss_lobatto or line_gauss_legendre_lobatto</span>
                      <span class="s1">&#39;Line&#39;</span><span class="p">:</span>  <span class="n">line_gauss_legendre_lobatto</span><span class="p">,</span>
                      <span class="c1"># Options tet_evenly_spaced, tet_shunn_ham</span>
                      <span class="s1">&#39;Tetrahedron&#39;</span><span class="p">:</span> <span class="n">tet_evenly_spaced</span><span class="p">,</span>
                      <span class="c1"># Options tri_evenly_spaced, tri_shunn_ham</span>
                      <span class="s1">&#39;Tri&#39;</span> <span class="p">:</span> <span class="n">tri_evenly_spaced</span><span class="p">,</span>
                    <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="material-specification">
<h2>Material Specification<a class="headerlink" href="#material-specification" title="Permalink to this headline">¶</a></h2>
<p>The user can specify any fluid material properties by following the (default) scheme for ‘air’:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;material&#39;</span> <span class="p">:</span> <span class="s1">&#39;air&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Options</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;air&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="s1">&#39;gamma&#39;</span> <span class="p">:</span> <span class="mf">1.4</span><span class="p">,</span>
          <span class="s1">&#39;gas constant&#39;</span> <span class="p">:</span> <span class="mf">287.0</span><span class="p">,</span>
          <span class="s1">&#39;Sutherlands const&#39;</span><span class="p">:</span> <span class="mf">110.4</span><span class="p">,</span>
          <span class="s1">&#39;Prandtl No&#39;</span> <span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span>
          <span class="s1">&#39;Turbulent Prandtl No&#39;</span> <span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="initial-conditions">
<h2>Initial Conditions<a class="headerlink" href="#initial-conditions" title="Permalink to this headline">¶</a></h2>
<p>The initial condition properties are defined using consecutively numbered blocks</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;IC_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;IC_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;IC_3&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>Each block can contain the following options</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Required: Static temperature in Kelvin</span>
<span class="s1">&#39;temperature&#39;</span><span class="p">:</span> <span class="mf">293.0</span><span class="p">,</span>
<span class="c1"># Required: Static pressure in Pascals</span>
<span class="s1">&#39;pressure&#39;</span><span class="p">:</span><span class="mf">101325.0</span><span class="p">,</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fluid velocity</span>
<span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Velocity vector</span>
        <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
        <span class="c1"># Optional: specifies velocity magnitude</span>
        <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
      <span class="p">},</span>
</pre></div>
</div>
<p>Dynamic (shear, absolute or molecular) viscosity should be defined at the static temperature previously specified.  This can be specified either as a dimensional quantity or by a Reynolds number and reference length</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dynamic viscosity in dimensional units</span>
<span class="s1">&#39;viscosity&#39;</span> <span class="p">:</span> <span class="mf">1.83e-5</span><span class="p">,</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reynolds number</span>
<span class="s1">&#39;Reynolds No&#39;</span> <span class="p">:</span> <span class="mf">5.0e6</span><span class="p">,</span>
<span class="c1"># Reference length</span>
<span class="s1">&#39;Reference Length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
</pre></div>
</div>
<p>Turbulence intensity is defined as the ratio of velocity fluctuations <span class="math notranslate nohighlight">\(u^{'}\)</span> to the mean flow velocity. A turbulence intensity of 1% is considered low and greater than 10% is considered high.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Turbulence intensity %</span>
<span class="s1">&#39;turbulence intensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
<span class="c1"># Turbulence intensity for sustainment %</span>
<span class="s1">&#39;ambient turbulence intensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
</pre></div>
</div>
<p>The eddy viscosity ratio <span class="math notranslate nohighlight">\((\mu_t/\mu)\)</span> varies depending type of flow.
For external flows this ratio varies from  0.1 to 1 (wind tunnel 1 to 10)</p>
<p>For internal flows there is greater dependence on Reynolds number as the largest eddies in the flow are limited
by the characteristic lengths of the geometry (e.g. The height of the channel or diameter of the pipe). Typical values are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="11%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Re</td>
<td>3000</td>
<td>5000</td>
<td>10,000</td>
<td>15,000</td>
<td>20,000</td>
<td>&gt; 100,000</td>
</tr>
<tr class="row-even"><td>eddy</td>
<td>11.6</td>
<td>16.5</td>
<td>26.7</td>
<td>34.0</td>
<td>50.1</td>
<td>100</td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eddy viscosity ratio</span>
<span class="s1">&#39;eddy viscosity ratio&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="c1"># Eddy viscosity ratio for sustainment</span>
<span class="s1">&#39;ambient eddy viscosity ratio&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
</pre></div>
</div>
<p>The user can also provide functions to specify a ‘wall-function’ - or the turbulence viscosity profile near a boundary.  For example an atmospheric boundary layer (ABL) could be specified like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="s1">&#39;ABL&#39;</span> <span class="p">:</span> <span class="p">{</span>
                       <span class="s1">&#39;roughness length&#39;</span> <span class="p">:</span> <span class="mf">0.0003</span><span class="p">,</span>
                       <span class="s1">&#39;friction velocity&#39;</span> <span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                       <span class="s1">&#39;surface layer height&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
                       <span class="s1">&#39;Monin-Obukhov length&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
                       <span class="c1"># Non dimensional TKE/friction velocity**2</span>
                       <span class="s1">&#39;TKE&#39;</span> <span class="p">:</span> <span class="mf">0.928</span><span class="p">,</span>
                       <span class="c1"># ground level (optional if not set wall distance is used)</span>
                       <span class="s1">&#39;z0&#39;</span>  <span class="p">:</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">,</span>
                      <span class="p">},</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow_field.vtp&#39;</span><span class="p">,</span>
             <span class="c1"># Localise field using wall distance rather that z coordinate</span>
             <span class="s1">&#39;use wall distance&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The conditions in the VTK file are specified by node based arrays with names ‘Pressure’, ‘Temperature’, ‘Velocity’, ‘TI’ and ‘EddyViscosity’. Note the field will override the conditions specified previously therefore the user can specify only the conditions that are different from default.</p>
</div>
<p>Certain conditions are specified relative to a reference set of conditions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># total pressure/reference static pressure</span>
<span class="c1"># This can be a single value or VTK field file name with array name &#39;TotalPressureRatio&#39; or function</span>
<span class="s1">&#39;total pressure ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="c1"># total temperature/reference static temperature</span>
<span class="c1"># This can be a single value or VTK field file name with array name &#39;TotalTemperatureRatio&#39; or function</span>
<span class="s1">&#39;total temperature ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="c1"># Mach number</span>
<span class="s1">&#39;mach&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="c1"># Direction vector or function</span>
<span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># static pressure/reference static pressure</span>
<span class="c1"># This can be a single value or VTK field file name with array name &#39;StaticPressureRatio&#39; or function</span>
<span class="s1">&#39;static pressure ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
<span class="c1"># Mass flow ratio</span>
<span class="s1">&#39;mass flow ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="c1"># Or mass flow rate</span>
<span class="s1">&#39;mass flow rate&#39;</span> <span class="p">:</span> <span class="mf">10.0</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example pressure ratio function</span>
<span class="k">def</span> <span class="nf">total_pressure_ratio</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>

    <span class="n">ratio</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">10.0</span><span class="p">:</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="mf">0.9</span>

    <span class="k">return</span> <span class="n">ratio</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><span class="math notranslate nohighlight">\(W^* =\frac{\dot{m}}{\rho V}\)</span></p>
</div>
</div>
<div class="section" id="boundary-conditions">
<h2>Boundary Conditions<a class="headerlink" href="#boundary-conditions" title="Permalink to this headline">¶</a></h2>
<p>Boundary condition properties are defined using consecutively numbered blocks</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;BC_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>zCFD will automatically detect zone types and numbers in a number of mesh formats, and assign appropriate boundary conditions. The type tags follow the Fluent convention (wall = 3, etc), and if present no further information is required.  Alternatively, the mesh format may contain explicitly numbered zones (which can be determined by inspecting the mesh).  In this case, the user can specify the list of zone numbers for each boundary condition ‘type’ and ‘kind’ (see below).</p>
<div class="section" id="wall">
<span id="id1"></span><h3>Wall<a class="headerlink" href="#wall" title="Permalink to this headline">¶</a></h3>
<p>Wall boundaries in zCFD can be either slip walls, no-slip walls, or use automatic wall functions. No-slip walls are appropriate when the mesh is able to fully resolve the boundary layer (i.e <span class="math notranslate nohighlight">\((y^{+} \leq 1)\)</span>) otherwise automatic wall functions should be used. This behaviour is chosen by setting <code class="code docutils literal notranslate"><span class="pre">'kind'</span></code> in the wall specification below. Optionally it is possible to set wall velocity, roughness and temperature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="c1"># Zone type tag</span>
          <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="c1"># Optional: Specific zone boundary condition override</span>
          <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
          <span class="c1"># Required: Boundary condition type</span>
          <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;wall&#39;</span><span class="p">,</span>
          <span class="c1"># Type of wall, one of &#39;slip&#39;, &#39;noslip&#39;, &#39;wallfunction&#39;</span>
          <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;slip&#39;</span><span class="p">,</span>
          <span class="c1"># Optional: Roughness specification</span>
          <span class="s1">&#39;roughness&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="c1"># Type of roughness specification (option: height or length)</span>
                        <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span>
                        <span class="c1"># Constant roughness</span>
                        <span class="s1">&#39;scalar&#39;</span> <span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
                        <span class="c1"># Roughness field specified as a VTK file</span>
                        <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;roughness.vtp&#39;</span><span class="p">,</span>
                        <span class="p">},</span>
          <span class="c1"># Optional: Wall velocity specification either &#39;linear&#39; or &#39;rotating&#39; dictionary supplied</span>
          <span class="s1">&#39;V&#39;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;linear&#39;</span> <span class="p">:</span> <span class="p">{</span>
                           <span class="c1"># Velocity vector</span>
                           <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                           <span class="c1"># Optional: specifies velocity magnitude</span>
                           <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
                           <span class="p">},</span>
                <span class="s1">&#39;rotating&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="c1"># Rotational velocity in rad/s</span>
                             <span class="s1">&#39;omega&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Rotation axis</span>
                             <span class="s1">&#39;axis&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="c1"># Rotation origin</span>
                             <span class="s1">&#39;origin&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="p">},</span>
                <span class="p">},</span>
          <span class="c1"># Optional: Wall temperature specification either a constant &#39;scalar&#39; value or a &#39;profile&#39; from file</span>
          <span class="s1">&#39;temperature&#39;</span> <span class="p">:</span> <span class="p">{</span>
                          <span class="c1"># Temperature in Kelvin</span>
                          <span class="s1">&#39;scalar&#39;</span> <span class="p">:</span> <span class="mf">280.0</span><span class="p">,</span>
                          <span class="c1"># Temperature field specified as a VTK file</span>
                          <span class="s1">&#39;field&#39;</span> <span class="p">:</span> <span class="s1">&#39;temperate.vtp&#39;</span><span class="p">,</span>
                          <span class="p">},</span>
          <span class="p">},</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The roughness at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the roughness
value looked up in a node based scalar array called ‘Roughness’</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The temperature at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the temperature
value looked up in a node based scalar array called ‘Temperature’</p>
</div>
</div>
<div class="section" id="farfield">
<h3>Farfield<a class="headerlink" href="#farfield" title="Permalink to this headline">¶</a></h3>
<p>The farfield boundary condition can automatically determine whether the flow is locally an inflow or an outflow by solving a Riemann equation. The conditions on the farfield boundary are set by referring to an <code class="code docutils literal notranslate"><span class="pre">'IC_'</span></code> block. In addition to this an atmospheric boundary layer profile or a turbulence profile may be set.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_2&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition override</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;farfield&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Kind of farfield options (riemann, pressure or supersonic)</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;riemann&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Farfield conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
         <span class="c1"># Optional: Atmospheric Boundary Layer</span>
         <span class="s1">&#39;profile&#39;</span> <span class="p">:</span> <span class="p">{</span>
                     <span class="s1">&#39;ABL&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="c1"># Roughness length</span>
                             <span class="s1">&#39;roughness length&#39;</span> <span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
                             <span class="c1"># Fiction velocity</span>
                             <span class="s1">&#39;friction velocity&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Surface Layer Heigh</span>
                             <span class="s1">&#39;surface layer height&#39;</span> <span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                             <span class="s1">&#39;Monin-Obukhov length&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                             <span class="c1"># Turbulent kinetic energy</span>
                             <span class="s1">&#39;TKE&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                             <span class="c1"># Ground Level</span>
                             <span class="s1">&#39;z0&#39;</span> <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                              <span class="p">},</span>
                      <span class="p">},</span>
         <span class="c1"># Optional: Specify a turbulence profile</span>
         <span class="s1">&#39;turbulence&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;length scale&#39;</span> <span class="p">:</span> <span class="s1">&#39;filename.vtp&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;reynolds tensor&#39;</span> <span class="p">:</span> <span class="s1">&#39;filename.vtp&#39;</span><span class="p">,</span>
                        <span class="p">},</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="inflow">
<h3>Inflow<a class="headerlink" href="#inflow" title="Permalink to this headline">¶</a></h3>
<p>zCFD can specify two kinds of inflow boundary condition: pressure or massflow, selected using the <code class="code docutils literal notranslate"><span class="pre">'kind'</span></code> key. When using the pressure inflow the boundary condition is specified by a total pressure ratio and a total temperature ratio that needs to be defined by the condition this refers to. When using the massflow condition a total temperature ratio and mass flow ratio or a mass flow rate is required. Note the mass flow ratio is defined relative to the condition set in the <code class="code docutils literal notranslate"><span class="pre">'reference'</span></code> key. By default the flow direction is normal to the boundary but either a single vector or a python function can be used to specify the inflow normal vector of each face on the surface.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_3&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition override</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Kind of inflow, either &#39;default&#39; for pressure or &#39;massflow&#39;</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Reference inflow conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-pressure-inflow">
<h4>Example Pressure Inflow<a class="headerlink" href="#example-pressure-inflow" title="Permalink to this headline">¶</a></h4>
<p>An example setup for a pressure inflow is given below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;IC_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;temperature&#39;</span> <span class="p">:</span> <span class="mf">293.0</span><span class="p">,</span>
         <span class="s1">&#39;pressure&#39;</span> <span class="p">:</span> <span class="mf">101325.0</span><span class="p">,</span>
         <span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
              <span class="s1">&#39;Mach&#39;</span> <span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
              <span class="p">},</span>
         <span class="s1">&#39;Reynolds No&#39;</span> <span class="p">:</span> <span class="mf">1.0e6</span><span class="p">,</span>
         <span class="s1">&#39;Reference Length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;turbulence intensity&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
         <span class="s1">&#39;eddy viscosity ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="p">},</span>
<span class="s1">&#39;IC_2&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_1&#39;</span><span class="p">,</span>
         <span class="s1">&#39;total temperature ratio&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;total pressure ratio; : 1.0,</span>
         <span class="p">},</span>
<span class="s1">&#39;BC_3&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;inflow&#39;</span><span class="p">,</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="example-massflow-inflow">
<h4>Example Massflow Inflow<a class="headerlink" href="#example-massflow-inflow" title="Permalink to this headline">¶</a></h4>
<p>An example setup for a massflow inflow is given below:</p>
</div>
</div>
<div class="section" id="outflow">
<h3>Outflow<a class="headerlink" href="#outflow" title="Permalink to this headline">¶</a></h3>
<p>Pressure or massflow outflow boundaries are specified in a similar manner to the <a class="reference internal" href="#inflow">Inflow</a> boundary. They can be of :code`’kind’` <code class="code docutils literal notranslate"><span class="pre">'pressure'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'radial</span> <span class="pre">pressure</span> <span class="pre">gradient'</span></code> or <code class="code docutils literal notranslate"><span class="pre">'massflow'</span></code>. When either pressure boundary is set the <code class="code docutils literal notranslate"><span class="pre">'IC_'</span></code> conditions it refers to must set a static temperature ratio, when <code class="code docutils literal notranslate"><span class="pre">'massflow'</span></code> is specified a mass flow ratio or mass flow rate must be set. Note the mass flow ratio is defined relative to the condition set in the <code class="code docutils literal notranslate"><span class="pre">'reference'</span></code> key.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_4&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition override</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;outflow&#39;</span><span class="p">,</span>
         <span class="c1"># Kind of outflow &#39;pressure, &#39;massflow&#39; or &#39;radial pressure gradient&#39;</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span>
         <span class="c1"># Required only when using &#39;radial pressure gradient&#39;</span>
         <span class="c1"># Radius at which the static pressure ratio is defined</span>
         <span class="s1">&#39;reference radius&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
         <span class="c1"># Outflow conditions</span>
         <span class="s1">&#39;condition&#39;</span> <span class="p">:</span> <span class="s1">&#39;IC_2&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="symmetry">
<h3>Symmetry<a class="headerlink" href="#symmetry" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_5&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Zone type tag</span>
         <span class="s1">&#39;ref&#39;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
         <span class="c1"># Optional: Specific zone boundary condition override</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
         <span class="c1"># Required: Boundary condition type</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;symmetry&#39;</span><span class="p">,</span>
         <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="periodic">
<h3>Periodic<a class="headerlink" href="#periodic" title="Permalink to this headline">¶</a></h3>
<p>This boundary condition needs to be specified in pairs with opposing transformations.
The transforms specified should map each zone onto each other.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_6&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Required: Specific zone index</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
         <span class="c1"># Required: Type of boundary condition</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;periodic&#39;</span><span class="p">,</span>
         <span class="c1"># Required: Either &#39;rotated&#39; or &#39;linear&#39; periodicity</span>
         <span class="s1">&#39;kind&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Rotated periodic settings</span>
                  <span class="s1">&#39;rotated&#39;</span> <span class="p">:</span> <span class="p">{</span>
                              <span class="s1">&#39;theta&#39;</span> <span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">120.0</span><span class="p">),</span>
                              <span class="s1">&#39;axis&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                              <span class="s1">&#39;origin&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                              <span class="p">},</span>
                  <span class="c1"># Linear periodic settings</span>
                  <span class="s1">&#39;linear&#39;</span> <span class="p">:</span> <span class="p">{</span>
                             <span class="s1">&#39;vector&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
                             <span class="p">},</span>
                <span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fluid-structure-interaction">
<h2>Fluid Structure Interaction<a class="headerlink" href="#fluid-structure-interaction" title="Permalink to this headline">¶</a></h2>
<p>zCFD has the cability of simulating Fluid Structure Interaction (FSI) using both a modal model, as well as any generic full FEA program through the use of our generic coupling scheme.</p>
<div class="section" id="model-model">
<h3>Model Model<a class="headerlink" href="#model-model" title="Permalink to this headline">¶</a></h3>
<p>The modal model must be pre calculated and provided at run time. The total displacement of the structure is calculated from the contribution of each mode when excited by the force exerted by the fluid. This displacement is then propagated through the mesh using the RBF or IDW transform capability detailed in <a class="reference internal" href="#mesh-transformations">Mesh Transformations</a> . The dictionary keys related to the different mesh deformation algorithms are the same as described in <a class="reference internal" href="#mesh-transformations">Mesh Transformations</a> . zCFD is capable of solving more than one modal model in a simulation. The modal model(s) is(are) setup using the following keys in the Parameters dictionary with one <code class="code docutils literal notranslate"><span class="pre">MM_*</span></code> key per modal model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="s1">&#39;modal model&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;MM_1&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Required: File format of the structural modes. Currently only Nastran .op2 and .bdf files are supported</span>
        <span class="s1">&#39;file format&#39;</span><span class="p">:</span> <span class="s1">&#39;nastran&#39;</span><span class="p">,</span>
        <span class="c1"># Required: Name of the Nastran .op2 and .bdf files</span>
        <span class="s1">&#39;nastran casename&#39;</span><span class="p">:</span> <span class="s1">&#39;panel_nm_0.04m&#39;</span><span class="p">,</span>
        <span class="c1"># Required: The wall zones in the mesh which correspond to the wetted surface of the structural model</span>
        <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="c1"># Optional: Zones in the mesh which remain stationary</span>
        <span class="s1">&#39;fixed zones&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="c1"># Required: Type of mesh transform to use: &#39;rbf multiscale&#39;, &#39;rbf&#39; or &#39;idw&#39;</span>
        <span class="s1">&#39;transform type&#39;</span><span class="p">:</span> <span class="s1">&#39;rbf multiscale&#39;</span><span class="p">,</span>
        <span class="c1"># Support radius of the RBFs</span>
        <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
        <span class="c1"># Fraction of surface points in the RBF base set (for multiscale only)</span>
        <span class="s1">&#39;base point fraction&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="c1"># Optional: Excite the structure with a sinusoidal point force</span>
        <span class="s1">&#39;forcing&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;frequency&#39;</span> <span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span> <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="s1">&#39;force&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]</span> <span class="p">},</span>
        <span class="c1"># Optional: Apply a scaling to the structural model</span>
        <span class="s1">&#39;scale&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
        <span class="c1"># Optional: The maximum search distance when mapping the structural model to the CFD mesh</span>
        <span class="s1">&#39;mode mapping max distance&#39;</span> <span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
        <span class="c1"># Optional: apply a scaling to the force applied at the wetted surface</span>
        <span class="s1">&#39;fluid force scaling&#39;</span> <span class="p">:</span> <span class="mf">0.08</span> <span class="o">/</span> <span class="mf">0.000166667</span><span class="p">,</span>
        <span class="c1"># Optional: Select the modes to include in the analysis</span>
        <span class="s1">&#39;mode list&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">]</span>
        <span class="c1"># Optional: Specify the modal damping for each mode</span>
        <span class="s1">&#39;modal damping&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
        <span class="c1"># Optional: Recalculate the RBF coefficients when the maximum deformation reaches a fraction of alpha</span>
        <span class="s1">&#39;recalculate rbfs alpha fraction&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="c1"># Required (IDW only): number of nearest neighbours to</span>
        <span class="s1">&#39;n nearest&#39;</span> <span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
        <span class="c1"># Required (IDW only): power of the interpolation weight in the far field, at the boundary and the blending function between them</span>
        <span class="s1">&#39;power&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">],</span>
        <span class="c1"># Required (IDW only): distance over which to decay the deformation</span>
        <span class="s1">&#39;deformation distance&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
        <span class="c1"># Required (IDW only): Stiffness of the blending function used to decay the deformation (0.0-1.0)</span>
        <span class="s1">&#39;blending stiffness&#39;</span><span class="p">:</span> <span class="mf">0.5</span>
        <span class="c1"># Optional: Update the modal model every n cycles</span>
        <span class="s1">&#39;update frequency&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="c1"># Optional: Use only the surface nodes that influence the deformation on each partition</span>
        <span class="s1">&#39;use local rbf nodes&#39;</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="general-fsi">
<h3>General FSI<a class="headerlink" href="#general-fsi" title="Permalink to this headline">¶</a></h3>
<p>The general FSI capabilities of zCFD allow the solver to expose solution variables at run time, in order to allow for a user to couple the solver to any structural model. The behaviour of the coupling scheme can be modified within the open source python layer, by editing <code class="code docutils literal notranslate"><span class="pre">/bin/zcfd/utils/coupling/genericfsi.py</span></code>. The default file contains 4 hooks definining points within the code when FSI actions can be performed- post intialisation, start of the real time cycle, post advance and post solve. In addition the file contains examples of all the functions available to the user for data communication, and how they should be executed in regards the rank of the CPU. In general any user written code for communication should be performed on the rank 0 CPU to avoid issues with parallelisation. The generic FSI scheme can be setup using the <code class="code docutils literal notranslate"><span class="pre">fsi</span></code> key in the control dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;fsi&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1"># Required: The fsi driver to launch into, for generic FSI use the key &#39;generic&#39;</span>
    <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;generic&#39;</span><span class="p">,</span>
    <span class="c1"># Required: The wall zones in the mesh which correspond to the wetted surface of the structural model</span>
    <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="c1"># Optional: Zones in the mesh which remain stationary</span>
    <span class="s1">&#39;fixed zones&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="c1"># Required: Type of mesh transform to use: &#39;rbf multiscale&#39;, &#39;rbf&#39; or &#39;idw&#39;</span>
    <span class="s1">&#39;transform type&#39;</span> <span class="p">:</span> <span class="s1">&#39;rbf multiscale&#39;</span><span class="p">,</span>
    <span class="c1"># Required (RBF only): Support radius of the RBFs</span>
    <span class="s1">&#39;alpha&#39;</span> <span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
    <span class="c1"># Required (RBF only): Basis function for the rbf: &#39;c0&#39;, &#39;c2&#39;, &#39;c4&#39;, &#39;tps&#39;, &#39;gaussian&#39; (default = &#39;c2&#39;)</span>
    <span class="s1">&#39;basis&#39;</span> <span class="p">:</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span>
    <span class="c1"># Required (Multiscale RBF only): Fraction of surface points in the RBF base set</span>
    <span class="s1">&#39;base point fraction&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="c1"># Required (IDW only): number of nearest neighbours to</span>
    <span class="s1">&#39;n nearest&#39;</span> <span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
    <span class="c1"># Required (IDW only): power of the interpolation weight in the far field, at the boundary and the blending function between them</span>
    <span class="s1">&#39;power&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">],</span>
    <span class="c1"># Required (IDW only): distance over which to decay the deformation</span>
    <span class="s1">&#39;deformation distance&#39;</span> <span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="c1"># Required (IDW only): Stiffness of the blending function used to decay the deformation (0.0-1.0)</span>
    <span class="s1">&#39;blending stiffness&#39;</span> <span class="p">:</span> <span class="mf">0.5</span>
    <span class="c1"># Optional: extra user variables to pass to solver through validation script</span>
    <span class="s1">&#39;user variables&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data path&#39;</span> <span class="p">:</span> <span class="s1">&#39;/path/to/data&#39;</span><span class="p">}</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fluid-zones">
<h2>Fluid Zones<a class="headerlink" href="#fluid-zones" title="Permalink to this headline">¶</a></h2>
<p>The fluidic zone properties are defined using consecutively numbered blocks like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;FZ_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
<span class="s1">&#39;FZ_3&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">....</span><span class="p">},</span>
</pre></div>
</div>
<p>For actuator disk zones</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;disc&#39;</span><span class="p">,</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;T38-248.75.vtp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;thrust coefficient&#39;</span><span class="p">:</span><span class="mf">0.84</span><span class="p">,</span>
        <span class="s1">&#39;tip speed ratio&#39;</span><span class="p">:</span><span class="mf">6.0</span><span class="p">,</span>
        <span class="s1">&#39;centre&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mf">159.34009325</span><span class="p">,</span><span class="o">-</span><span class="mf">2161.73165187</span><span class="p">,</span><span class="mf">70.0</span><span class="p">],</span>
        <span class="s1">&#39;up&#39;</span><span class="p">:[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
        <span class="s1">&#39;normal&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
        <span class="s1">&#39;inner radius&#39;</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;outer radius&#39;</span><span class="p">:</span><span class="mf">40.0</span><span class="p">,</span>
        <span class="c1"># Location of reference conditions used to calculate thrust from C</span>
        <span class="s1">&#39;reference point&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>For tree canopies in terrain wind models</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;canopy&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the canopy</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;canopy_dacosta.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use field when the vtp specifies a set of points on the surface (see below for details)</span>
        <span class="s1">&#39;field&#39;</span><span class="p">:</span><span class="s1">&#39;canopy_field.vtp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;func&#39;</span><span class="p">:</span><span class="n">lad_function</span><span class="p">,</span>
        <span class="s1">&#39;cd&#39;</span><span class="p">:</span><span class="mf">0.25</span><span class="p">,</span>
        <span class="s1">&#39;beta_p&#39;</span><span class="p">:</span><span class="mf">0.17</span><span class="p">,</span>
        <span class="s1">&#39;beta_d&#39;</span><span class="p">:</span><span class="mf">3.37</span><span class="p">,</span>
        <span class="s1">&#39;Ceps_4&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;Ceps_5&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>where the parameters cd, beta_p,beta_d, Ceps_4 and Ceps_5 are defined in the literature (for example Desmond, 2014) and the leaf area density (LAD) is typically specified using a function</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">lad_function</span><span class="p">(</span><span class="n">cell_centre_list</span><span class="p">):</span>
    <span class="n">lai</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># for example following Da Costa 2007</span>
    <span class="n">h_can</span> <span class="o">=</span> <span class="mf">20.0</span>
    <span class="n">lad_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">cell_centre_list</span><span class="p">:</span>
        <span class="n">wall_distance</span> <span class="o">=</span> <span class="n">cell</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">lad</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">wall_distance</span><span class="p">,</span> <span class="n">a_z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">h_can</span><span class="p">,</span> <span class="n">a_z</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">lai</span> <span class="o">/</span> <span class="n">h_can</span><span class="p">,)</span>
        <span class="n">lad_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lad</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">lad_list</span>
</pre></div>
</div>
<p>and the variation in leaf area density is a function of height</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a_z</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.43</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.45</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.56</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.74</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">1.10</span><span class="p">,</span>
                  <span class="mf">0.5</span><span class="p">,</span><span class="mf">1.35</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">1.48</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">1.47</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">1.35</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.01</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.00</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
      <span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the field specification the height of the canopy at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the height value looked up in a node based scalar array called ‘Height’</p>
</div>
<p>For porous media</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;porous&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the canopy</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;porous_region.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use zone when the porous region is defined in the mesh as a cell zone</span>
        <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">124</span><span class="p">,</span> <span class="mi">234</span><span class="p">],</span>
        <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="mesh-transformations">
<h2>Mesh Transformations<a class="headerlink" href="#mesh-transformations" title="Permalink to this headline">¶</a></h2>
<p>Radial Basis Functions (RBFs) or Inverse Distance Weighted (IDW) interpolation can be used to deform the volume mesh according to the motion of some or all of the boundary nodes. zCFD can perform an arbitrary number of transforms which are specified in consecutively numbered blocks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
<span class="s1">&#39;TR_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
</pre></div>
</div>
<p>Two kinds of RBF transformation are available: the “Allen et al. greedy” method and the “multiscale” method. For the “greedy” method</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
     <span class="c1"># Required: &#39;rbf multiscale&#39;, &#39;rbf&#39; or &#39;idw&#39;</span>
     <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;rbf&#39;</span><span class="p">,</span>
     <span class="c1"># Required: list of surface zones to be deformed</span>
     <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
     <span class="c1"># Required: function describing surface deformation</span>
     <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">transformFunc</span><span class="p">,</span>
     <span class="c1"># Required: support radius of RBFs</span>
     <span class="s1">&#39;alpha&#39;</span> <span class="p">:</span> <span class="mf">200.0</span><span class="p">,</span>
     <span class="c1"># Optional: type of RBF - one of c0, c2, gaussian, tps (default: c2)</span>
     <span class="s1">&#39;basis&#39;</span> <span class="p">:</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span>
     <span class="c1"># Required: maximum error tolerance for greedy</span>
     <span class="s1">&#39;tol&#39;</span> <span class="p">:</span> <span class="mf">0.005</span><span class="p">,</span>
     <span class="p">},</span>
</pre></div>
</div>
<p>For the “multiscale” method</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Required: &#39;rbf multiscale&#39;, &#39;rbf&#39; or &#39;idw&#39;</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;rbf multiscale&#39;</span><span class="p">,</span>
         <span class="c1"># Required: faction of surface points to be solved in the base set</span>
         <span class="s1">&#39;base point fraction&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
         <span class="c1"># Required: list of surface zones to be deformed</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
         <span class="c1"># Required: function describing surface deformation</span>
         <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">transformFunc</span><span class="p">,</span>
         <span class="c1"># Required: support radius of RBFs in the base set</span>
         <span class="s1">&#39;alpha&#39;</span> <span class="p">:</span> <span class="mf">200.0</span><span class="p">,</span>
         <span class="c1"># Optional: type of RBF - one of c0, c2, gaussian, tps (default: c2)</span>
         <span class="s1">&#39;basis&#39;</span> <span class="p">:</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="c1"># type of RBF - one of c0, c2, gaussian, tps</span>
         <span class="p">},</span>
</pre></div>
</div>
<p>For the IDW transform</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;TR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="c1"># Required: &#39;rbf multiscale&#39;, &#39;rbf&#39; or &#39;idw&#39;</span>
         <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;idw&#39;</span><span class="p">,</span>
         <span class="c1"># Required: number of nearest neighbours to</span>
         <span class="s1">&#39;n nearest&#39;</span> <span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
         <span class="c1"># Required: list of surface zones to be deformed</span>
         <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
         <span class="c1"># Required: function describing surface deformation</span>
         <span class="s1">&#39;func&#39;</span> <span class="p">:</span> <span class="n">transformFunc</span><span class="p">,</span>
         <span class="c1"># Required: power of the interpolation weight in the far field, at the boundary and the blending function between them</span>
         <span class="s1">&#39;power&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">],</span>
         <span class="c1"># Required: distance over which to decay the deformation</span>
         <span class="s1">&#39;deformation distance&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
         <span class="c1"># Required: Stiffness of the blending function used to decay the deformation (0.0-1.0)</span>
         <span class="s1">&#39;blending stiffness&#39;</span><span class="p">:</span> <span class="mf">0.5</span>
         <span class="p">},</span>
</pre></div>
</div>
<p>An example of a function to deform a surface is given below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">transWing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
 <span class="n">ymax</span> <span class="o">=</span> <span class="mf">1.0</span>
 <span class="n">ymin</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="n">yNorm</span> <span class="o">=</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ymax</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span>
 <span class="n">x2</span> <span class="o">=</span> <span class="n">x</span>
 <span class="n">y2</span> <span class="o">=</span> <span class="n">y</span>
 <span class="n">z2</span> <span class="o">=</span> <span class="n">z</span>
 <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mf">1.1</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">1.1</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.1</span> <span class="ow">and</span> <span class="n">z</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.1</span> <span class="ow">and</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
     <span class="n">z2</span> <span class="o">=</span> <span class="n">z</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mf">20.0</span><span class="o">*</span><span class="n">yNorm</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">yNorm</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">10.0</span><span class="o">*</span><span class="n">yNorm</span><span class="p">)</span><span class="o">/</span><span class="mf">31.0</span>

 <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;v1&#39;</span> <span class="p">:</span> <span class="n">x2</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span> <span class="p">:</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span> <span class="p">:</span> <span class="n">z2</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="reporting">
<h2>Reporting<a class="headerlink" href="#reporting" title="Permalink to this headline">¶</a></h2>
<p>In addition to standard flow field outputs (see below), zCFD can provide information at monitor points in the flow domain, and integrated forces across all parallel partitions, any number of <code class="code docutils literal notranslate"><span class="pre">'MR_'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'FR_'</span></code> or <code class="code docutils literal notranslate"><span class="pre">'MF_'</span></code> blocks may be spcified.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;report&#39;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Report frequency</span>
            <span class="s1">&#39;frequency&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="c1"># Extract specified variable at fixed locations</span>
            <span class="s1">&#39;monitor&#39;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="c1"># Consecutively numbered blocks</span>
                        <span class="s1">&#39;MR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                 <span class="c1"># Required: Output name</span>
                                 <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;monitor_1&#39;</span><span class="p">,</span>
                                 <span class="c1"># Required: Location</span>
                                 <span class="s1">&#39;point&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                                 <span class="c1"># Required: Variables to be extracted</span>
                                 <span class="s1">&#39;variables&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;ti&#39;</span><span class="p">],</span>
                                 <span class="p">},</span>
                        <span class="p">},</span>

            <span class="c1"># Report force coefficient in grid axis as well as using user defined transform</span>
            <span class="s1">&#39;forces&#39;</span> <span class="p">:</span> <span class="p">{</span>
                       <span class="c1"># Consecutively numbered blocks</span>
                       <span class="s1">&#39;FR_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                <span class="c1"># Required: Output name</span>
                                <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;force_1&#39;</span><span class="p">,</span>
                                <span class="c1"># Required: Zones to be included</span>
                                <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                                <span class="c1"># Transformation function</span>
                                <span class="s1">&#39;transform&#39;</span> <span class="p">:</span> <span class="n">my_transform</span><span class="p">,</span>
                                <span class="c1"># Optional (default 1.0):</span>
                                <span class="s1">&#39;reference area&#39;</span> <span class="p">:</span> <span class="mf">0.112032</span><span class="p">,</span>
                                <span class="c1"># Optional (default 1.0):</span>
                                <span class="s1">&#39;reference length&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                                <span class="c1"># Optional (default [0.0, 0.0, 0.0]):</span>
                                <span class="s1">&#39;reference point&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                                <span class="c1"># Optional (default 0.0): Calculate forces using a specified reference pressure rather than absolute</span>
                                <span class="s1">&#39;reference pressure&#39;</span><span class="p">:</span> <span class="mf">0.0</span>
                                <span class="p">},</span>
                       <span class="p">},</span>

            <span class="c1"># Report massflow ratio</span>
            <span class="s1">&#39;massflow&#39;</span> <span class="p">:</span> <span class="p">{</span>
                         <span class="c1"># Consecutively numbered blocks</span>
                         <span class="s1">&#39;MF_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
                                  <span class="c1"># Required: Output name</span>
                                  <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;massflow_1&#39;</span><span class="p">,</span>
                                  <span class="c1"># Required: Zones to be included</span>
                                  <span class="s1">&#39;zone&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                                  <span class="p">},</span>
                         <span class="p">},</span>
        <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="example-transformation-function">
<h3>Example Transformation Function<a class="headerlink" href="#example-transformation-function" title="Permalink to this headline">¶</a></h3>
<p>A transformation function my be supplied to the force report block to transform the force into a different coordinate system, this a particularly useful for reporting lift and drag which are often rotated from the solver coordinate system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Angle of attack</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="c1"># Transform into wind axis</span>
<span class="k">def</span> <span class="nf">my_transform</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">]</span>
    <span class="n">v</span> <span class="o">=</span>  <span class="n">zutil</span><span class="o">.</span><span class="n">rotate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;v1&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;v2&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;v3&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="overset-meshes">
<h2>Overset meshes<a class="headerlink" href="#overset-meshes" title="Permalink to this headline">¶</a></h2>
<p>Within zCFD in finite volume mode it is possible to run with an arbitrary number of meshes overlapping one another.  It is also possible to run a single high order DG mesh (simulation) overlapping a single finite volume background mesh.  To activate the overset mesh capability, the user simply strings mesh and case names after the -p and -c options respectively.  There should be a python dictionary for each mesh with the appropriate boundary conditions for that mesh defined in it.  It should be noted that the ordering of the mesh and case names indicates superiority where the second mesh overlaps the first, and the third overlaps the second and first, and so on.  Any mesh which overlaps another must have the boundaries defined where solution information is to be from a lower mesh.  This is specified as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;BC_1&#39;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span>
          <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;overset&#39;</span><span class="p">}</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>With finite volume mode, the overset solver can also perform simulations with rotating domains overlapping fixed background domains.  It is assumed the geometry of the rotating domains is such that there is no new covering or uncovering of cells in the background mesh.  Multiple rotating domains can also be defined.  If an overset mesh is to rotate, the entire mesh must rotate with no fixed volumes and dual time-stepping time marching must be used.  The rotating mesh / domain must be specified in fluid zone 1 as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rotating&quot;</span><span class="p">,</span>
    <span class="s2">&quot;zone&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>To control the order of accuracy when mapping between overset meshes, the user can specify the order of accuracy of the interpolation.  First (0) or second (1) order mapping can be chosen.  First order mapping will use the solution in the cell containing the location requiring data, whereas second order mapping will use an inverse distance weighted interpolation using neighbouring information as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mapping&#39;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="c1"># Order of accuracy of mapping.  Defaults to 0.</span>
                <span class="s1">&#39;idw from cells order&#39;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="p">},</span>
</pre></div>
</div>
</div>
<div class="section" id="sliding-meshes">
<h2>Sliding meshes<a class="headerlink" href="#sliding-meshes" title="Permalink to this headline">¶</a></h2>
<p>Sliding meshes (where interfaces on each mesh slide past one another, for a moving rotor simulation for example) can be simulated in a similar fashion to overset meshes.  In fact, sliding meshes are a simple extension of the overset mesh philosophy however no mesh in defined as a background mesh (with cells blanked off).  For two meshes sliding across one another, we simply set the sliding boundary as <code class="code docutils literal notranslate"><span class="pre">'overset'</span></code> in both python dictionaries as described above for BC_1 in the Overset meshes section.  The only additional requirement is that to indicate to the solver that the first mesh and solver dictionary combination are not background overset, we must add the following key value pair to the first solver dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sliding planes&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="aero-acoustics">
<h2>Aero-acoustics<a class="headerlink" href="#aero-acoustics" title="Permalink to this headline">¶</a></h2>
<p>Broadband aero-acoustic simulations can be performed by selecting the DGCAA solver.  Aero-acoustic sources are currently limited to stochastic noise sources generated by the FRPM method.  These sources are typically driven by a steady state RANS simulation.  Several FRPM domains can be defined within the aero-acoustic simulation by adding additional <code class="code docutils literal notranslate"><span class="pre">'FRPM_2'</span></code>, <code class="code docutils literal notranslate"><span class="pre">'FRPM_3'</span></code>, etc., dictionaries.  With a single FRPM domain, the dictionary must be labelled <code class="code docutils literal notranslate"><span class="pre">'FRPM_1'</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;DGCAA&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="c1"># Order of polynomial used to spatially represent</span>
             <span class="c1"># the solution within an element</span>
             <span class="s1">&#39;order&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>

             <span class="c1"># If refraction effects are of interest, these can be included</span>
             <span class="c1"># by mapping a CFD solution on to the acoustic domain.  Defaults to True.</span>
             <span class="c1"># (Optional)</span>
             <span class="s1">&#39;Map CFD to CAA mesh&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

             <span class="c1"># Option to run the FRPM solver only, without running the acoustic propagation</span>
             <span class="c1"># solver.  Defaults to False. (Optional)</span>
             <span class="s1">&#39;FRPM solver only&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>

             <span class="c1"># Specify mesh file to be used when mapping RANS simulation to CAA mesh</span>
             <span class="c1"># (and / or FRPM mesh)</span>
             <span class="s1">&#39;RANS mesh name&#39;</span> <span class="p">:</span> <span class="s2">&quot;rans_mesh.h5&quot;</span><span class="p">,</span>

             <span class="c1"># Specify solution file to be used when mapping RANS simulation to CAA mesh</span>
             <span class="c1"># (and / or FRPM mesh)</span>
             <span class="s1">&#39;RANS case name&#39;</span> <span class="p">:</span> <span class="s2">&quot;rans_case.py&quot;</span><span class="p">,</span>

             <span class="c1"># Specify if FRPM sources are to be used in the acoustic simulation.</span>
             <span class="c1"># Defaults to True.  (Optional)</span>
             <span class="s1">&#39;frpm sources&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

             <span class="c1"># Specify after how many cycles microphone data should be extracted.  Note this</span>
             <span class="c1"># is cycles rather then Hz.</span>
             <span class="s1">&#39;microphone output frequency&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>

             <span class="c1"># FRPM dictionary.  Specifies FRPM parameters.  Full details below.</span>
             <span class="s1">&#39;FRPM&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="c1"># See dictionary contents below</span>
             <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FRPM_1&#39;</span> <span class="p">:</span> <span class="p">{</span>
             <span class="c1"># The FRPM solver can run on a subset of MPI processes</span>
             <span class="c1"># Choose number of MPI processes to run FRPM (Optional)</span>
             <span class="s1">&#39;number of frpm mpi processes&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>

             <span class="c1"># The FRPM can use freestream meanflow or flow from a RANS solution</span>
             <span class="c1"># Set to True (default) if RANS solution to be used to drive FRPM (Optional)</span>
             <span class="s1">&#39;Map CFD to FRPM mesh&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

             <span class="c1"># Mesh spacing to be used for implicitly defined FRPM domain</span>
             <span class="c1"># Ideally should be less than 0.5 the minimum turbulence integral</span>
             <span class="c1"># length scale of interest</span>
             <span class="s1">&#39;FRPM Spacing&#39;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>

             <span class="c1"># Constant of proportionality for turbulence integral length scale</span>
             <span class="c1"># computation from RANS.  Defaults to 1.0. (Optional)</span>
             <span class="s1">&#39;FRPM turbulence integral length scale parameter&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>

             <span class="c1"># The user can inspect the RANS solution and choose a turbulence integral</span>
             <span class="c1"># length scale best suited to match the RANS simulation.  A uniform</span>
             <span class="c1"># integral length scale allows much faster source computations.  Defaults</span>
             <span class="c1"># to True (recommended).  Otherwise the turbulence integral length scale</span>
             <span class="c1"># will be taken from the mapped RANS solution. (Optional)</span>
             <span class="s1">&#39;use constant integral length scale&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

             <span class="c1"># Used in conjunction with &#39;use constant integral length scale&#39; set to True</span>
             <span class="c1"># User specified turbulence integral length scale.</span>
             <span class="s1">&#39;FRPM Turbulence Integral Length Scale&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>

             <span class="c1"># Number of cells in each direction for implicity defined FRPM mesh</span>
             <span class="c1"># If using parallel FRPM, x-direction should be the largest value for</span>
             <span class="c1"># optimum parallel efficiency</span>
             <span class="s1">&#39;FRPM Cart Num Mesh Cells&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>

             <span class="c1"># Frequency with which the FRPM sources should be updated.  Acoustic sources</span>
             <span class="c1"># at time levels between updates will be linearly interpolated.  Set to -1 if</span>
             <span class="c1"># solver should determine (recommended).  Set to 1 if FRPM should be updated</span>
             <span class="c1"># each acoustic solver time step</span>
             <span class="s1">&#39;FRPM March Frequency&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>

             <span class="c1"># Vector the implicitly defined FRPM mesh should be translated to correctly</span>
             <span class="c1"># position sources in acoustic domain</span>
             <span class="s1">&#39;FRPM Domain Translate&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>

             <span class="c1"># Vector the implicitly defined FRPM mesh should be rotated to correctly</span>
             <span class="c1"># position sources in acoustic domain</span>
             <span class="s1">&#39;FRPM Domain Rotate (Deg)&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>

             <span class="c1"># Physical distance sources should be blended over from the</span>
             <span class="c1"># [min-X, max-X, min-Y, max-Y, min-Z, max-Z] cartesian boundaries</span>
             <span class="c1"># Values of 0.0 indicate no blending of sources</span>
             <span class="s1">&#39;FRPM Blend Sources From Side&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>

             <span class="c1"># Physical distance from walls acoustic sources should be blended over to zero.</span>
             <span class="c1"># Values of 0.0 or less indicates no blending using wall distance</span>
             <span class="c1"># (default = -1.0).  The first half of the blending distance has no decay, the</span>
             <span class="c1"># second half blends sources linearly to zero.</span>
             <span class="s1">&#39;wall distance blend over&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>

             <span class="c1"># The FRPM method can reconstruct turbulence fields from many turbulence</span>
             <span class="c1"># spectrum models.  Typically Gauss (default) is used. It is also possible to</span>
             <span class="c1"># specify Liepmann.  Liepmann is associated with greater computational cost.</span>
             <span class="c1"># (Optional)</span>
             <span class="s1">&#39;FRPM turbulence spectrum&#39;</span><span class="p">:</span> <span class="s2">&quot;gauss&quot;</span><span class="p">,</span>

             <span class="c1"># Used in conjunction with the Liepmann spectrum.  Defaults to 1 (Gauss</span>
             <span class="c1"># spectrum).  The Liepmann spectrum is obtained by a series of Gauss spectra,</span>
             <span class="c1"># the number to be used is specified here (1 to 10). (Optional)</span>
             <span class="s1">&#39;FRPM number of discrete filters&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>


             <span class="c1"># Used in conjunction with the Liepmann spectrum.  Defines FRPM mesh refinement</span>
             <span class="c1"># as a function of turbulence integral length scale from smaller scales.  0.5 is</span>
             <span class="c1"># recommended if using Liepmann. (Optional)</span>
             <span class="s1">&#39;FRPM length scale resolution factor&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>

             <span class="c1"># Used in conjunction with the Liepmann spectrum.  Maximum turbulence integral</span>
             <span class="c1"># length scale to be modelled (multiple of length scale from RANS).</span>
             <span class="c1"># Defaults to 5.0. (Optional)</span>
             <span class="s1">&#39;FRPM maximum length scale factor&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>

             <span class="c1"># Used in conjunction with the Liepmann spectrum.  Minimum turbulence integral</span>
             <span class="c1"># length scale to be modelled (multiple of length scale from RANS).</span>
             <span class="c1"># Defaults to 0.1. (Optional)</span>
             <span class="s1">&#39;FRPM minimum length scale factor&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>

             <span class="c1"># Run FRPM solver a number of cycles before starting the acoustic solver.</span>
             <span class="c1"># Defaults to 0.</span>
             <span class="s1">&#39;FRPM Flush Particle Cycles&#39;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

             <span class="c1"># Smooth the turbulence kinetic energy field.  If the RANS solution mapped</span>
             <span class="c1"># on to the FRPM domain is discontinuous, that can cause problems with the</span>
             <span class="c1"># computation of the acoustic sources.  Ideally a finer RANS mesh should be used,</span>
             <span class="c1"># however if this is not possible, Laplace smoothing can be used.  There is</span>
             <span class="c1"># potential for the accuracy of the results to deteriorate when using this.</span>
             <span class="c1"># Defaults to 0.  (Optional)</span>
                 <span class="s1">&#39;FRPM Mapped TKE Smoothing iterations&#39;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>

             <span class="c1"># Relaxation for turbulence kinetic energy smoothing.  Defaults to 0.2.</span>
             <span class="c1"># (Optional)</span>
             <span class="s1">&#39;FRPM Mapped TKE Smoothing relaxation&#39;</span> <span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>

             <span class="c1"># There are two options to map acoustic sources from the FRPM mesh to the</span>
             <span class="c1"># acoustic mesh.  Firstly linearly interpolate based on the location of</span>
             <span class="c1"># the acoustic mesh solution points within the FRPM domain.  Secondly use</span>
             <span class="c1"># in inverse distance weighted mapping based on sources in the neighbourhood</span>
             <span class="c1"># of the acoustic solver solution points.  Defaults to True (Recommended).</span>
             <span class="c1"># (Optional)</span>
             <span class="s1">&#39;FRPM inverse distance source mapping&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

             <span class="c1"># Used in conjunction with inverse distance weighted source mapping.</span>
             <span class="c1"># Distance to specify neighbourhood to take sources from. Recommend</span>
             <span class="c1"># at least twice the turbulence integral length scale.  Note, this increases</span>
             <span class="c1"># memory usage.</span>
             <span class="s1">&#39;frpm inverse distance source mapping distance&#39;</span> <span class="p">:</span> <span class="mf">6.0</span><span class="p">,</span>

             <span class="c1"># List used to specify which boundaries should be used for reseeding particled</span>
             <span class="c1"># once they have left the domain [XMIN, XMAX, YMIN, YMAX, ZMIN, ZMAX]</span>
             <span class="c1"># Defaults to all True.</span>
             <span class="s1">&#39;FRPM inflow boundaries&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>For solver efficiency, zCFD outputs the raw flow field data (plus any user-defined variables) to each parallel partition without re-combining the output files. The <code class="code docutils literal notranslate"><span class="pre">'write</span> <span class="pre">output'</span></code> dictionary controls solver output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;write output&#39;</span> <span class="p">:</span> <span class="p">{</span>
                  <span class="c1"># Required: Output format: &#39;vtk&#39;, &#39;ensight&#39;, &#39;native&#39;</span>
                  <span class="s1">&#39;format&#39;</span> <span class="p">:</span> <span class="s1">&#39;vtk&#39;</span><span class="p">,</span>
                  <span class="c1"># Required: Variables to output on each boundary type</span>
                  <span class="s1">&#39;surface variables&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">],</span>
                  <span class="c1"># Required: Field variables to be output</span>
                  <span class="s1">&#39;volume variables&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: Volume interpolation - interpolates cell values to points in supplied meshes</span>
                  <span class="c1">#           File types can be vtp, vtu or binary stl</span>
                  <span class="s1">&#39;volume interpolate&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mesh.vtp&#39;</span><span class="p">,</span> <span class="s1">&#39;mesh.vtu&#39;</span><span class="p">,</span> <span class="s1">&#39;mesh.stl&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: Paraview catalyst scripts</span>
                  <span class="s1">&#39;scripts&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;paraview_catalyst1.py&#39;</span><span class="p">,</span><span class="s1">&#39;paraview_catalyst2.py&#39;</span><span class="p">],</span>
                  <span class="c1"># Optional: If downstream processes need variables named using a specific convention a naming alias dictionary can be supplied</span>
                  <span class="s1">&#39;variable_name_alias&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;V&quot;</span> <span class="p">:</span> <span class="s2">&quot;VELOCITY&quot;</span><span class="p">,</span> <span class="p">},</span>
                  <span class="c1"># Required: Output frequency</span>
                  <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="p">{</span>
                      <span class="c1"># Output visualisation files every 3 cycles (default = 1000000)</span>
                      <span class="s2">&quot;volume data&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                      <span class="s2">&quot;surface data&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                      <span class="s2">&quot;volume interpolate&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                      <span class="s2">&quot;checkpoint&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                      <span class="c1"># Start output every 3 cycles after 1 cycle (default = 1)</span>
                      <span class="s2">&quot;volume data start&quot;</span><span class="p">:</span> <span class="mi">1</span>
                      <span class="s2">&quot;surface data start&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                      <span class="s2">&quot;volume interpolate start&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                      <span class="s2">&quot;checkpoint start&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="p">},</span>
                  <span class="c1"># Optional for DG: Output high order surface data on zones</span>
                  <span class="s1">&#39;high order surface list&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                  <span class="c1"># Optional (default False):</span>
                  <span class="c1"># Don&#39;t output vtk volume data</span>
                  <span class="s1">&#39;no volume vtk&#39;</span> <span class="p">:</span> <span class="kc">False</span>
                  <span class="c1"># Optional</span>
                  <span class="c1"># Calculate mean and RMS data when running unsteady</span>
                  <span class="c1"># Adds &#39;V_avg&quot;, &quot;V_rms&quot;, &quot;T_avg&quot;, &quot;T_rms&quot;, &quot;p_avg&quot; and &quot;p_rms&quot; to the available output variables.</span>
                  <span class="s1">&#39;calculate averge and rms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="c1"># Start time averaging at a specific time step</span>
                  <span class="s1">&#39;average start time cycle&#39;</span><span class="p">:</span> <span class="mi">1000</span>
                <span class="p">},</span>
</pre></div>
</div>
<div class="section" id="output-variables">
<h3>Output Variables<a class="headerlink" href="#output-variables" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="12%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable Name</th>
<th class="head">Alias</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>temperature</td>
<td>T, t</td>
<td>Temperature in (<span class="math notranslate nohighlight">\(K\)</span>)</td>
</tr>
<tr class="row-odd"><td>temperaturegrad</td>
<td>&#160;</td>
<td>Temperature gradient vector</td>
</tr>
<tr class="row-even"><td>potentialtemperature</td>
<td>&#160;</td>
<td>Potential temperature in (<span class="math notranslate nohighlight">\(K\)</span>)</td>
</tr>
<tr class="row-odd"><td>pressure</td>
<td>p</td>
<td>Pressure (<span class="math notranslate nohighlight">\(Pa\)</span>)</td>
</tr>
<tr class="row-even"><td>gauge_pressure</td>
<td>&#160;</td>
<td>Pressure relative to the reference value (<span class="math notranslate nohighlight">\(Pa\)</span>)</td>
</tr>
<tr class="row-odd"><td>density</td>
<td>rho</td>
<td>Density (<span class="math notranslate nohighlight">\(kg/m^3\)</span>)</td>
</tr>
<tr class="row-even"><td>velocity</td>
<td>V, v</td>
<td>Velocity vector (<span class="math notranslate nohighlight">\(m/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>velocitygradient</td>
<td>&#160;</td>
<td>Velocity gradient tensor</td>
</tr>
<tr class="row-even"><td>cp</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Pressure_coefficient">Pressure coefficient</a></td>
</tr>
<tr class="row-odd"><td>totalcp</td>
<td>&#160;</td>
<td>Total presure coefficient</td>
</tr>
<tr class="row-even"><td>mach</td>
<td>m</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Mach_number">Mach number</a></td>
</tr>
<tr class="row-odd"><td>viscosity</td>
<td>mu</td>
<td>Dynamic viscosity (<span class="math notranslate nohighlight">\(Pa/s\)</span>)</td>
</tr>
<tr class="row-even"><td>kinematicviscosity</td>
<td>nu</td>
<td>Kinematic viscosity (<span class="math notranslate nohighlight">\(m^2/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>vorticity</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Vorticity">Vorticity vector</a> (<span class="math notranslate nohighlight">\(1/s\)</span>)</td>
</tr>
<tr class="row-even"><td>Qcriterion</td>
<td>&#160;</td>
<td>Q criterion</td>
</tr>
<tr class="row-odd"><td>reynoldstress</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Reynolds_stress">Reynolds stress tensor</a></td>
</tr>
<tr class="row-even"><td>helicity</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Hydrodynamical_helicity">Helicity</a></td>
</tr>
<tr class="row-odd"><td>enstrophy</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>ek</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>lesregion</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>turbulenceintensity</td>
<td>ti</td>
<td>Turbulence intensity</td>
</tr>
<tr class="row-odd"><td>turbulencekineticenergy</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Turbulence_kinetic_energy">Turbulence kinetic energy</a> (<span class="math notranslate nohighlight">\(J/kg\)</span>)</td>
</tr>
<tr class="row-even"><td>turbulenceeddyfrequency</td>
<td>&#160;</td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/SST_(Menter%E2%80%99s_Shear_Stress_Transport)#K-W_Closure">Turbulence eddy frequency</a> (<span class="math notranslate nohighlight">\(1/s\)</span>)</td>
</tr>
<tr class="row-odd"><td>eddy</td>
<td>&#160;</td>
<td>Eddy viscosity (<span class="math notranslate nohighlight">\(Pa/s\)</span>)</td>
</tr>
<tr class="row-even"><td>cell_velocity</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cellzone</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>cellorder</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>centre</td>
<td>&#160;</td>
<td>Cell centre location</td>
</tr>
<tr class="row-even"><td>viscouslengthscale</td>
<td>&#160;</td>
<td>Minimum distance between cell and its neighbours</td>
</tr>
<tr class="row-odd"><td>walldistance</td>
<td>&#160;</td>
<td>Wall distance (<span class="math notranslate nohighlight">\(m\)</span>)</td>
</tr>
<tr class="row-even"><td>sponge</td>
<td>&#160;</td>
<td>Sponge layer damping coefficient</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="surface-only-quantities">
<h4>Surface Only Quantities<a class="headerlink" href="#surface-only-quantities" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="22%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable Name</th>
<th class="head">Alias</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>pressureforce</td>
<td>&#160;</td>
<td>Pressure component of force on a face</td>
</tr>
<tr class="row-odd"><td>pressuremoment</td>
<td>&#160;</td>
<td>Pressure component of moment on a face</td>
</tr>
<tr class="row-even"><td>pressuremomentx</td>
<td>&#160;</td>
<td>Component of pressure moment around x axis</td>
</tr>
<tr class="row-odd"><td>pressuremomenty</td>
<td>&#160;</td>
<td>Component of pressure moment around y axis</td>
</tr>
<tr class="row-even"><td>pressuremomentz</td>
<td>&#160;</td>
<td>Component of pressure moment around z axis</td>
</tr>
<tr class="row-odd"><td>frictionforce</td>
<td>&#160;</td>
<td>Skin friction component of force on a face</td>
</tr>
<tr class="row-even"><td>frictionmoment</td>
<td>&#160;</td>
<td>Skin friction component of moment on a face</td>
</tr>
<tr class="row-odd"><td>frictionmomentx</td>
<td>&#160;</td>
<td>Component of skin friction moment around x axis</td>
</tr>
<tr class="row-even"><td>frictionmomenty</td>
<td>&#160;</td>
<td>Component of skin friction moment around y axis</td>
</tr>
<tr class="row-odd"><td>frictionmomentz</td>
<td>&#160;</td>
<td>Component of skin friction moment around z axis</td>
</tr>
<tr class="row-even"><td>roughness</td>
<td>&#160;</td>
<td>Wall roughness height</td>
</tr>
<tr class="row-odd"><td>yplus</td>
<td>&#160;</td>
<td>Non-dinemsional wall distance</td>
</tr>
<tr class="row-even"><td>zone</td>
<td>&#160;</td>
<td>Boundary zone number</td>
</tr>
<tr class="row-odd"><td>cf</td>
<td>&#160;</td>
<td>Skin friction coefficient</td>
</tr>
<tr class="row-even"><td>facecentre</td>
<td>&#160;</td>
<td>Face centre location</td>
</tr>
<tr class="row-odd"><td>frictionvelocity</td>
<td>ut</td>
<td>Friction velocity at the wall</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ZCFD_Mark_CMYK.png" alt="Logo"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="mycluster.html">MyCluster</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control Dictionary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reference-settings">Reference Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initialisation">Initialisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#low-mach-number-preconditioner-settings-optional">Low Mach number preconditioner settings (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-marcher">Time Marcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#equations">Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dg-nodal-locations">DG Nodal locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#material-specification">Material Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initial-conditions">Initial Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boundary-conditions">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fluid-structure-interaction">Fluid Structure Interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fluid-zones">Fluid Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-transformations">Mesh Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reporting">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overset-meshes">Overset meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sliding-meshes">Sliding meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aero-acoustics">Aero-acoustics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="meshutil.html">Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdf.html">PDF copy</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016-18, Zenotech Ltd.
      
      |
      <a href="_sources/control-dict.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32675146-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>