
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fluid-structure interaction &#8212; zCFD User Guide v2023.01.3113-1233-g57dbb1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../_static/fav.png"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Material Specification" href="materials.html" />
    <link rel="prev" title="Aero-Acoustics" href="caa.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="fluid-structure-interaction">
<span id="fsi"></span><h1>Fluid-structure interaction<a class="headerlink" href="#fluid-structure-interaction" title="Permalink to this heading">¶</a></h1>
<p>zCFD has the cability of simulating Fluid Structure Interaction (FSI) using both a modal model, as well as any generic full FEA program through the use of our generic coupling scheme.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="24%" />
<col width="6%" />
<col width="12%" />
<col width="24%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword</th>
<th class="head">Required</th>
<th class="head">Default</th>
<th class="head">Valid values</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>‘type’</td>
<td>Yes</td>
<td>&#160;</td>
<td>‘abaqus’ | ‘generic’</td>
<td>FSI driver to be used when coupling to an FEA code</td>
</tr>
<tr class="row-odd"><td>‘zone’</td>
<td>Yes</td>
<td>&#160;</td>
<td>List of zone ID integers</td>
<td>Which boundaries within the aerodynamic mesh are moving structural boundaries</td>
</tr>
<tr class="row-even"><td>‘fixed zones’</td>
<td>Yes</td>
<td>&#160;</td>
<td>List of zone ID integers</td>
<td>Which boundaries should not be moved by any mesh deformation</td>
</tr>
<tr class="row-odd"><td>‘transform type’</td>
<td>Yes</td>
<td>&#160;</td>
<td>‘rbf multiscale’ | ‘rbf’ | ‘IDW’</td>
<td>Interpolation method to be used.</td>
</tr>
<tr class="row-even"><td>‘alpha’</td>
<td>Yes</td>
<td>1</td>
<td>Float</td>
<td>Support radius used by RBF</td>
</tr>
<tr class="row-odd"><td>‘basis’</td>
<td>Yes</td>
<td>‘c2’</td>
<td>‘c2’ | ‘c4’ | c0’ | ‘tps’ | ‘gaussian’</td>
<td>Which basis function to use for RBF</td>
</tr>
<tr class="row-even"><td>‘base point fraction’</td>
<td>Yes</td>
<td>0.1</td>
<td>Float</td>
<td>Number of points to use in the reduced base set for rbf multiscale interpolation</td>
</tr>
<tr class="row-odd"><td>‘tol’</td>
<td>Yes</td>
<td>0.01</td>
<td>Float</td>
<td>Set the target error tolerance for the rbf interpolation</td>
</tr>
<tr class="row-even"><td>‘max error’</td>
<td>Yes</td>
<td>0.1</td>
<td>Float</td>
<td>Set the maximum initial error tolerance for rbf interpolation</td>
</tr>
<tr class="row-odd"><td>‘n nearest’</td>
<td>Yes</td>
<td>100</td>
<td>Positive integer</td>
<td>Number of points to be used in IDW interpolation</td>
</tr>
<tr class="row-even"><td>‘deformation distance’</td>
<td>Yes</td>
<td>1</td>
<td>Float</td>
<td>Set the maximum support radius for IDW interpolation</td>
</tr>
<tr class="row-odd"><td>‘blending stiffness’</td>
<td>Yes</td>
<td>0.5</td>
<td>Float</td>
<td>Set the blending stiffness for the IDW interpolation</td>
</tr>
<tr class="row-even"><td>‘power’</td>
<td>Yes</td>
<td>[3.0,5.0,10.0]</td>
<td>Set the IDW power for the nearfield and farfield boundaries, and the power between them.</td>
<td>List of Float</td>
</tr>
<tr class="row-odd"><td>‘user variables’</td>
<td>No</td>
<td>{}</td>
<td>Dict of variables to values</td>
<td>Custom parameters passed into the generic FSI code</td>
</tr>
</tbody>
</table>
<div class="section" id="type">
<h2>type<a class="headerlink" href="#type" title="Permalink to this heading">¶</a></h2>
<p>Speficies which FSI driver should be used when coupling to an FEA code, <strong>‘abaqus’</strong> or <strong>‘generic’</strong>.
This tells zCFD which FSI python file should be used to execute the FSI coupling:</p>
<blockquote>
<div><p><strong>‘generic’</strong> will use the <strong>genericFSI.py</strong> interface that should be implemented to meet your requirements. Out the box <strong>genericFSI.py</strong> will not perform any changes.</p>
<p><strong>‘abaqus’</strong>  is an extension of generic interface that allows the solver to run in tandem with the SIMULIA CSE engine.</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Abaqus requires the CSE engine to be built with zCFD</p>
</div>
</div>
<div class="section" id="zone">
<h2>zone<a class="headerlink" href="#zone" title="Permalink to this heading">¶</a></h2>
<p><strong>zone</strong> should be a list of zone IDs, these specify which surface is the moving FSI surface. This provides methods to extract surface normals, pressure forces, and cell centres from the specified cells, as well as allowing these surface points to drive mesh deformations in the volume mesh.</p>
<p>For RBF, this must include any static zones, where the motion of a static zone is set to 0.</p>
</div>
<div class="section" id="fixed-zones">
<h2>fixed zones<a class="headerlink" href="#fixed-zones" title="Permalink to this heading">¶</a></h2>
<p><strong>fixed zones</strong> should be a list of zone IDs, these specify surfaces which must remain fixed, such as an interface, periodic boundary, or symmetery plane, these surfaces will remain untouched by the IDW mesh motion interpolation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">IDW only</p>
</div>
</div>
<div class="section" id="transform-type">
<h2>transform type<a class="headerlink" href="#transform-type" title="Permalink to this heading">¶</a></h2>
<p>In FSI simulations the active surface defined in the ‘zone’ block, will move relative to the rest of the mesh. In order to maintain a conformal volume mesh, these displacements must be interpolated into the volume mesh. <strong>transform type</strong> defines which interplation scheme should be used.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Setting</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>‘rbf’</strong></td>
<td>Radial Basis Functions require the solving of a linear system, where a continous function is fitted between all points which defines the motion. This function can then be evaluated at other points within the domain to get the interpolated values.</td>
</tr>
<tr class="row-odd"><td><strong>‘rbf multiscale’</strong></td>
<td>RBF multiscale uses the a multiscale algorithm using a varying support radius to reduce the number of nodes in the linear system, where as RBF uses a Greedy algorithm.</td>
</tr>
<tr class="row-even"><td><strong>‘IDW’</strong></td>
<td>Inverse Distance Weighting does not require the solving of a linear system, and instead represents a function using a weighted sum of nearby function values.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>‘rbf multiscale’</strong> has generally superceeded the greedy algorithm, used in <strong>‘rbf’</strong>, in terms of both speed performance and accuracy, so is the preferred RBF option.</p>
</div>
</div>
<div class="section" id="alpha">
<h2>alpha<a class="headerlink" href="#alpha" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘rbf’</strong> and <strong>‘rbf multiscale’</strong> interpolation schemes.</p>
<p><strong>‘alpha’</strong> sets the support radius used by the RBF. The Radial Basis Function used in RBF interpolation will have a set support radius defining the 1D shape of the function as a function of r. This determines the region of influence for the function. Compact functions such as C0, C2, C4 have a maximum radius, outside of which the influence of the RBF is 0. For functions with global influence such as Gaussian and TPS, alpha becomes the normalisation factor - i.e. when r = alpha, e = 1 if rbf = f(e).</p>
<p><strong>‘alpha’</strong> should be larger than the maximum anticipated deformation.</p>
</div>
<div class="section" id="basis">
<h2>basis<a class="headerlink" href="#basis" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘rbf’</strong> and <strong>‘rbf multiscale’</strong> interpolation schemes.</p>
<p>When performing RBF interpolation a specific function needs to be defined to create the interpolant. Compact functions such as C0, C2, C4 have a maximum region of influence, Gaussian and TPS have global influence.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For 99% of applications C2 works best</p>
</div>
</div>
<div class="section" id="base-point-fraction">
<h2>base point fraction<a class="headerlink" href="#base-point-fraction" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘rbf’</strong> and <strong>‘rbf multiscale’</strong> interpolation schemes.</p>
<p>Solving the RBF system requires solving an NxN sized linear system, where N is the number of moving nodes- i.e. nodes on the surface [4] defined earlier. For large meshes this quickly becomes prohibitively expensive, therefor it is desirable to solve a reduced set of points. The Multiscale method is a ‘reduced base set method’ where the linear system is only solved on the base set of nodes, with the remaining nodes solved iteratively. <strong>‘base point fraction’</strong> dictates how many nodes of the full set should be included in the base set. Setting the base point fraction to 1.0 returns a standard full RBF.</p>
</div>
<div class="section" id="tol">
<h2>tol<a class="headerlink" href="#tol" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘rbf’</strong> interpolation scheme.</p>
<p>At each point selection step during Greedy selection, the interpolation problem is solved on the current base set of data. From this the error between the exact solution and interpolated solution for all points in the mesh is identified, this value is used as the initial guess for the ‘worst’ error within the mesh. Once the total error is below this tolerance, the greedy point selection is complete.</p>
</div>
<div class="section" id="max-error">
<h2>max error<a class="headerlink" href="#max-error" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘rbf’</strong> interpolation scheme.</p>
<p>At each point selection step during Greedy selection, the interpolation problem is solved on the current base set of data. From this the error between the exact solution and interpolated solution for all points in the mesh is identified. If this error is greater than the max error specified here, an error message is thrown.</p>
</div>
<div class="section" id="n-nearest">
<h2>n nearest<a class="headerlink" href="#n-nearest" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘IDW’</strong> interpolation scheme.</p>
<p>When using IDW mapping, the deformation of each surface point is mapped onto a set number of volume points, with the value determined by the weighted inverse distance between the donor and the recipient.</p>
</div>
<div class="section" id="deformation-distance">
<h2>deformation distance<a class="headerlink" href="#deformation-distance" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘IDW’</strong> interpolation scheme.</p>
<p>Sets the maximum region of influence for the inverse distance weighting mapping. If there are fewer than “n” neighbours within a distance “d”, then only neighours within that distance are used.</p>
</div>
<div class="section" id="blending-stiffness">
<h2>blending stiffness<a class="headerlink" href="#blending-stiffness" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘IDW’</strong> interpolation scheme.</p>
<p>Set the blending stiffness for the IDW interpolation.</p>
</div>
<div class="section" id="power">
<h2>power<a class="headerlink" href="#power" title="Permalink to this heading">¶</a></h2>
<p>Only applies to <strong>‘IDW’</strong> interpolation scheme.</p>
<p>Set the IDW power for the nearfield and farfield boundaries, and the power between them.</p>
</div>
<div class="section" id="user-variables">
<h2>user variables<a class="headerlink" href="#user-variables" title="Permalink to this heading">¶</a></h2>
<p>If you had additional variables for time marching scheme or FSI control (e.g. file names) you may want to pass as variables to the <strong>genericFSI.py</strong> script, these should be included in this dictionary.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ZCFD_Mark_CMYK.png" alt="Logo"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execution.html">Running zCFD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/intro.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Reference Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="reference.html">Reference Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="time.html">Time Marching</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations.html">Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="caa.html">Aero-Acoustics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Fluid-structure interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="materials.html">Material Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="initial.html">Initial Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="overset.html">Overset</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_output.html">Write Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Output variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">zCFD Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control-dict.html">Control Dictionary (old)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meshutil.html">Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pdf.html">PDF copy</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016-23, Zenotech Ltd.
      
      |
      <a href="../_sources/reference_guide/fsi.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32675146-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>