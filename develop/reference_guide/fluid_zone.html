<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fluid Zones &#8212; zCFD User Guide v2025.06.11828-6-g57e83 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d9aafeaa" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=659bf730" />
    <script src="../_static/documentation_options.js?v=cfe254c9"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="icon" href="../_static/fav.png"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mesh Transformation" href="transforms.html" />
    <link rel="prev" title="Reference Conditions" href="reference_conditions.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="fluid-zones">
<span id="id1"></span><h1>Fluid Zones<a class="headerlink" href="#fluid-zones" title="Link to this heading">¶</a></h1>
<p>The fluidic zone properties are defined using consecutively numbered blocks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
<span class="s1">&#39;FZ_2&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
<span class="s1">&#39;FZ_3&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
</pre></div>
</div>
<p>Each block corresponds to a specific fluid zone within the simulation domain and is identified by a unique key (e.g., ‘FZ_1’). The properties within each block specify the type of zone (such as translating, rotating, porous, disc, or canopy) and the relevant parameters required for that zone type. These parameters control the physical behaviour and characteristics of the fluid zone, such as velocity vectors, resistance factors, geometric definitions, and other model-specific settings.</p>
<p>The configuration allows for flexible definition of multiple fluid zones, each with its own set of properties, to accurately represent complex flow regions within the computational mesh.</p>
<p>For translating regions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;translating&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the translating region</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;translating.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use zone when the mesh containns a predefined cell zone</span>
        <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span>
        <span class="c1"># Velocity vector in mesh units/sec</span>
        <span class="s1">&#39;vector&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>For rotating regions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;rotating&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the rotating region</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;rotating.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use zone when the mesh containns a predefined cell zone</span>
        <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span>
        <span class="s1">&#39;omega&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.52</span><span class="p">,</span> <span class="c1"># rad/s</span>
        <span class="s1">&#39;axis&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
        <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>For porous regions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;porous&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the porous region</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;porous.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use zone when the mesh containens a predefined cell zone</span>
        <span class="s1">&#39;zone&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span>
        <span class="c1"># Inertial resistance factor</span>
        <span class="s1">&#39;C2&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="c1"># Permeability</span>
        <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">10e-7</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The model constants need to be provided in mesh units. The examples below assume a mesh in metres (Units of alpha is <span class="math notranslate nohighlight">\(1/m`\)</span> and C2 is <span class="math notranslate nohighlight">\(1/m^2`\)</span>)</p>
<p>The momentum source term for porous media is given by:</p>
<div class="math notranslate nohighlight">
\[S_i = -\left( \frac{\mu}{\alpha} V_i + \frac{1}{2} \rho C_2 |V| V_i \right)\]</div>
<p>where <span class="math notranslate nohighlight">\(S_i\)</span> is the source term in the <span class="math notranslate nohighlight">\(i\)</span>-th direction, <span class="math notranslate nohighlight">\(\mu\)</span> is the dynamic viscosity, <span class="math notranslate nohighlight">\(\alpha\)</span> is the permeability, <span class="math notranslate nohighlight">\(\rho\)</span> is the fluid density, <span class="math notranslate nohighlight">\(C_2\)</span> is the inertial resistance factor, and <span class="math notranslate nohighlight">\(V_i\)</span> is the velocity component.</p>
<p>In laminar flow using Darcy’s power law:</p>
<div class="math notranslate nohighlight">
\[\Delta P = \frac{\mu}{\alpha} V\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta P\)</span> is the pressure drop, <span class="math notranslate nohighlight">\(\mu\)</span> is the dynamic viscosity, <span class="math notranslate nohighlight">\(\alpha\)</span> is the permeability, and <span class="math notranslate nohighlight">\(V\)</span> is the velocity.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">Example Permeability Values</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Material</p></th>
<th class="head"><p>Permeability <span class="math notranslate nohighlight">\(\alpha\)</span> (m<sup>2</sup>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Fence</p></td>
<td><p><span class="math notranslate nohighlight">\(1 \times 10^{-7}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Car radiator</p></td>
<td><p><span class="math notranslate nohighlight">\(1 \times 10^{-9}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>Sand</p></td>
<td><p><span class="math notranslate nohighlight">\(1 \times 10^{-11}\)</span></p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">Example Inertial Resistance Factor (C2) Values</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Material</p></th>
<th class="head"><p>C2 (1/m)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Open cell foam</p></td>
<td><p>1000</p></td>
</tr>
<tr class="row-odd"><td><p>Gravel</p></td>
<td><p>500</p></td>
</tr>
<tr class="row-even"><td><p>Sand</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-odd"><td><p>Fine mesh</p></td>
<td><p>10000</p></td>
</tr>
</tbody>
</table>
</div>
<p>For actuator disk zones</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The actuator disk model is a simplified representation of a rotating disc that generates thrust and drag forces in a fluid flow. It is commonly used in computational fluid dynamics (CFD) simulations to model the effects of wind turbines, propellers, or other rotating machinery on the surrounding fluid.</p>
<p>The simple actuator disk model assumes that the disc has a uniform distribution of thrust and drag forces across its surface. The thrust coefficient (CT) and tip speed ratio (TSR) are key parameters that define the performance of the actuator disk.
The thrust coefficient (CT) is a dimensionless parameter that relates the thrust force generated by the disc to the dynamic pressure of the incoming flow. It is defined as:</p>
<div class="math notranslate nohighlight">
\[CT = \frac{T}{\frac{1}{2} \rho V^2 A}\]</div>
<p>where <span class="math notranslate nohighlight">\(T\)</span> is the thrust force, <span class="math notranslate nohighlight">\(\rho\)</span> is the fluid density, <span class="math notranslate nohighlight">\(V\)</span> is the velocity of the incoming flow, and <span class="math notranslate nohighlight">\(A\)</span> is the area of the disc.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
         <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;disc&#39;</span><span class="p">,</span>
         <span class="s2">&quot;discretisation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;disc&quot;</span><span class="p">,</span> <span class="s2">&quot;number of elements&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">},</span>
         <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="c1"># simple or BET</span>
             <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;simple&quot;</span><span class="p">,</span>
             <span class="c1"># Thrust coefficient</span>
             <span class="s1">&#39;thrust coefficient&#39;</span><span class="p">:</span><span class="mf">0.84</span><span class="p">,</span>
             <span class="c1"># Power coefficient</span>
             <span class="s1">&#39;power coefficient&#39;</span><span class="p">:</span><span class="mf">0.84</span><span class="p">,</span>
         <span class="p">},</span>
         <span class="s2">&quot;controller&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="c1"># none, tsr curve, fixed, schedule</span>
             <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
         <span class="p">},</span>
         <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="c1"># Thrust direction</span>
             <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
             <span class="c1"># Disc centre</span>
             <span class="s2">&quot;centre&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1e-06</span><span class="p">],</span>
             <span class="c1"># Up vector</span>
             <span class="s2">&quot;up&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
             <span class="c1"># Inner radius</span>
             <span class="s2">&quot;inner radius&quot;</span><span class="p">:</span> <span class="mf">0.039025</span><span class="p">,</span>
             <span class="c1"># Outer radius</span>
             <span class="s2">&quot;outer radius&quot;</span><span class="p">:</span> <span class="mf">0.175</span><span class="p">,</span>
         <span class="p">},</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;R01&quot;</span><span class="p">,</span>
         <span class="c1"># Rotation direction clockwise or anticlockwise</span>
         <span class="s2">&quot;rotation direction&quot;</span><span class="p">:</span> <span class="s2">&quot;clockwise&quot;</span><span class="p">,</span>
         <span class="c1"># closed surface defining region of cells to distribute momemtum source</span>
         <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;T38-248.75.vtp&#39;</span><span class="p">,</span>
         <span class="c1"># Location of reference conditions used to calculate thrust from disc</span>
         <span class="s1">&#39;reference point&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">],</span>
         <span class="c1"># Rotational speed</span>
         <span class="s1">&#39;omega&#39;</span><span class="p">:</span> <span class="mf">314.1592653589793</span><span class="p">,</span> <span class="c1"># rad/s</span>
 <span class="p">},</span>
</pre></div>
</div>
<p>Blade Element Theory (BET) actuator disk model
The BET actuator disk model is a more advanced representation of a rotating disc that takes into account the aerodynamic characteristics of the blades or elements on the disc. It is commonly used in simulations of wind turbines, propellers, and other rotating machinery to accurately predict their performance in fluid flows.
The BET model divides the disc into multiple sections or elements, each with its own aerodynamic properties. The thrust and drag forces are calculated for each element based on its local angle of attack, lift and drag coefficients, and other parameters. This allows for a more detailed representation of the flow around the disc and the interaction between the blades and the fluid.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;FZ_1&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;disc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;discretisation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;disc&quot;</span><span class="p">,</span> <span class="s2">&quot;number of elements&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">},</span>
    <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># simple or BET</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;BET&quot;</span><span class="p">,</span>
        <span class="c1"># propellor or turbine</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;propellor&quot;</span><span class="p">,</span>
        <span class="c1"># Blade chord (span %, chord length)</span>
        <span class="s2">&quot;blade chord&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="mf">0.2333</span><span class="p">,</span> <span class="mf">0.1468</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.2667</span><span class="p">,</span> <span class="mf">0.1681</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.3333</span><span class="p">,</span> <span class="mf">0.211</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2261</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.4667</span><span class="p">,</span> <span class="mf">0.2271</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.5333</span><span class="p">,</span> <span class="mf">0.2208</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2091</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.6667</span><span class="p">,</span> <span class="mf">0.1926</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.7333</span><span class="p">,</span> <span class="mf">0.1715</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.1462</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.8667</span><span class="p">,</span> <span class="mf">0.1212</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.9091</span><span class="p">,</span> <span class="mf">0.1027</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0581</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="c1"># Blade twist (span %, angle degrees)</span>
        <span class="s2">&quot;blade twist&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="mf">0.2333</span><span class="p">,</span> <span class="mf">28.6202</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.2667</span><span class="p">,</span> <span class="mf">25.5228</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.3333</span><span class="p">,</span> <span class="mf">20.9055</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">18.3605</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.4667</span><span class="p">,</span> <span class="mf">16.665</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.5333</span><span class="p">,</span> <span class="mf">14.8896</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">13.4845</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.6667</span><span class="p">,</span> <span class="mf">12.3585</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.7333</span><span class="p">,</span> <span class="mf">11.4509</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">10.2263</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.8667</span><span class="p">,</span> <span class="mf">9.0608</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.9091</span><span class="p">,</span> <span class="mf">8.5419</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="c1"># Number of circumferential sections</span>
        <span class="s2">&quot;number of sections&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="c1"># Number of blades</span>
        <span class="s2">&quot;number of blades&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="c1"># list of aerofoil sections [[spanwise %, airofoil_name1], ...] names should correlate to entries in &quot;aerofoils&quot;</span>
        <span class="s2">&quot;aerofoil positions&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;aerofoil1&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="s2">&quot;aerofoil1&quot;</span><span class="p">]],</span>
        <span class="c1"># Aerofoil data</span>
        <span class="s2">&quot;aerofoils&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># dictionary of aerofoil coefficient tables</span>
            <span class="s2">&quot;aerofoil1&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="c1"># drag polar in [degrees, cd]</span>
                <span class="s2">&quot;cd&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">1.4552</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">1.0992</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">0.748</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">30.0</span><span class="p">,</span> <span class="mf">0.4605</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">0.3701</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">0.284</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">0.1842</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.1157</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">0.0883</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0806</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.074</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">0.0583</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0353</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0314</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0289</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0276</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0291</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">0.0308</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0333</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0357</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">0.0409</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0667</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">0.2908</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">0.4857</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">0.6023</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">30.0</span><span class="p">,</span> <span class="mf">0.7409</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">1.1456</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">1.8184</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">2.3542</span><span class="p">],</span>
                <span class="p">],</span>
                <span class="c1"># lift polar in [degrees, cl]</span>
                <span class="s2">&quot;cl&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">60.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7978</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">50.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8195</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">40.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7204</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">30.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5429</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">25.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4336</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">20.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3499</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">15.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1601</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0623</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">6.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1109</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1771</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.146</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">3.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0018</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.4084</span><span class="p">],</span>
                    <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.556</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.7093</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8542</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.9736</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0824</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">1.1568</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">1.2398</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">1.2964</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">1.5453</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">1.4509</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">1.5137</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">1.3547</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">30.0</span><span class="p">,</span> <span class="mf">1.3587</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">1.4378</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">1.5453</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">1.3818</span><span class="p">],</span>
                <span class="p">],</span>
            <span class="p">},</span>
        <span class="p">},</span>
        <span class="c1"># Tip loss correction radius (span %)</span>
        <span class="s2">&quot;tip loss correction radius&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
        <span class="c1"># elliptic, acos-fit, accos shift-fit, f-fit, none, rstar</span>
        <span class="s2">&quot;tip loss correction&quot;</span><span class="p">:</span> <span class="s2">&quot;rstar&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;controller&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># none, tsr curve, fixed, schedule</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
        <span class="c1"># angular velocity</span>
        <span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="mf">314.1592653589793</span><span class="p">,</span>
        <span class="c1"># blade pitch angle</span>
        <span class="s2">&quot;pitch&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
    <span class="p">},</span>
    <span class="c1"># Rotation direction clockwise or anticlockwise</span>
    <span class="s2">&quot;rotation direction&quot;</span><span class="p">:</span> <span class="s2">&quot;clockwise&quot;</span><span class="p">,</span>
    <span class="c1"># Geometry of the actuator disk</span>
    <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Thrust direction</span>
        <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
        <span class="c1"># Disc centre</span>
        <span class="s2">&quot;centre&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1e-06</span><span class="p">],</span>
        <span class="c1"># Up vector</span>
        <span class="s2">&quot;up&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
        <span class="c1"># Inner radius</span>
        <span class="s2">&quot;inner radius&quot;</span><span class="p">:</span> <span class="mf">0.039025</span><span class="p">,</span>
        <span class="c1"># Outer radius</span>
        <span class="s2">&quot;outer radius&quot;</span><span class="p">:</span> <span class="mf">0.175</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;R01&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reference plane&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="c1"># &quot;reference point&quot;: [0.0, 0.0, 0.0],</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span>
    <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;update frequency&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;def&quot;</span><span class="p">:</span> <span class="s2">&quot;R01.vtp&quot;</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>For tree canopies in terrain wind models</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;FZ_1&#39;</span><span class="p">:{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;canopy&#39;</span><span class="p">,</span>
        <span class="c1"># Use def when the vtp file specifies a closed volumetric region defining the canopy</span>
        <span class="s1">&#39;def&#39;</span><span class="p">:</span><span class="s1">&#39;canopy_dacosta.vtp&#39;</span><span class="p">,</span>
        <span class="c1"># Use field when the vtp specifies a set of points on the surface (see below for details)</span>
        <span class="s1">&#39;field&#39;</span><span class="p">:</span><span class="s1">&#39;canopy_field.vtp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;func&#39;</span><span class="p">:</span><span class="n">lad_function</span><span class="p">,</span>
        <span class="s1">&#39;cd&#39;</span><span class="p">:</span><span class="mf">0.25</span><span class="p">,</span>
        <span class="s1">&#39;beta_p&#39;</span><span class="p">:</span><span class="mf">0.17</span><span class="p">,</span>
        <span class="s1">&#39;beta_d&#39;</span><span class="p">:</span><span class="mf">3.37</span><span class="p">,</span>
        <span class="s1">&#39;Ceps_4&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;Ceps_5&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>where the parameters cd, beta_p,beta_d, Ceps_4 and Ceps_5 are defined in the literature (for example Desmond, 2014) and the leaf area density (LAD) is typically specified using a function</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">lad_function</span><span class="p">(</span><span class="n">cell_centre_list</span><span class="p">):</span>
    <span class="n">lai</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># for example following Da Costa 2007</span>
    <span class="n">h_can</span> <span class="o">=</span> <span class="mf">20.0</span>
    <span class="n">lad_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">cell_centre_list</span><span class="p">:</span>
        <span class="n">wall_distance</span> <span class="o">=</span> <span class="n">cell</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">lad</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">wall_distance</span><span class="p">,</span> <span class="n">a_z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">h_can</span><span class="p">,</span> <span class="n">a_z</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">lai</span> <span class="o">/</span> <span class="n">h_can</span><span class="p">,)</span>
        <span class="n">lad_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lad</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">lad_list</span>
</pre></div>
</div>
<p>and the variation in leaf area density is a function of height</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a_z</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.43</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.45</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.56</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.74</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">1.10</span><span class="p">,</span>
                  <span class="mf">0.5</span><span class="p">,</span><span class="mf">1.35</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">1.48</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">1.47</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">1.35</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.01</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.00</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
      <span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the field specification the height of the canopy at each boundary face is set by finding the nearest point to the face centre on the supplied VTK file with the height value looked up in a node based scalar array called ‘Height’</p>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ZCFD_Mark_CMYK.png" alt="Logo of zCFD User Guide"/>
            </a></p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running/intro.html">Running zCFD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/intro.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Reference Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="reference.html">Reference Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="time.html">Time Marching</a></li>
<li class="toctree-l2"><a class="reference internal" href="linear_solver.html">Linear Solver Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations.html">Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="caa.html">Aero-Acoustics</a></li>
<li class="toctree-l2"><a class="reference internal" href="fsi.html">Fluid-structure interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="materials.html">Material Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="initial.html">Initial Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference_conditions.html">Reference Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">Boundary Conditions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Fluid Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforms.html">Mesh Transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="overset.html">Overset</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_output.html">Write Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Output variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">zCFD Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meshutil.html">Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fwh.html">FWH solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zm3.html">zM3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pdf.html">PDF copy</a></li>
</ul>


<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2016-25, Zenotech Ltd.
      
      |
      <a href="../_sources/reference_guide/fluid_zone.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script>

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32675146-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>